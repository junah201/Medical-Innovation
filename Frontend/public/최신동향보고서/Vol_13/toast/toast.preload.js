!function(e,t){"function"==typeof define&&define.amd?define(["exports"],function(e){t(0,e)}):t(0,{})}(this,function(e,t){"use strict";(window.Toast=window.TOAST=window.TT=window.tt=window._tt=window._t=t).config={moduleBaseUrl:"",dataBaseUrl:""},t.const={},t.extensions={},t.common={},t.api={},t.context={},t._={},t.metadata={},t.log=function(){},t.hook={};var i="htmlReady",n="coreReady",r="extensionsLoaded",s="ready",a="appReady",o="projectLoaded",d="themeReady",l={HTML_READY:!1,CORE_READY:!1,EXTENSIONS_LOADED:!1,READY:!1,APP_READY:!1,PROJECT_LOADED:!1,THEME_READY:!1},c={themeReady:!0},h={};function u(e){try{e()}catch(e){t.log("Exception when calling a 'toast done loading' handler: "+e),t.log(e.stack)}}function f(e,t){var i=l[e];i&&u(t),i&&!c[e]||h[e].push(t)}h[i]=[],h[n]=[],h[r]=[],h[s]=[],h[a]=[],h[o]=[],h[d]=[],t.htmlReady=function(e){f(i,e)},t.coreReady=function(e){f(n,e)},t.extensionsLoaded=function(e){f(r,e)},t.ready=function(e){f(s,e)},t.appReady=function(e){f(a,e)},t.projectLoaded=function(e){f(o,e)},t.themeReady=function(e){f(d,e)},t.dispatchReady=function(e){var t,i=h[e];for(l[e]=!0,t=0;t<i.length;t++)u(i[t]);c[e]||(h[e]=[])},t.addListener=f,t.HTML_READY=i,t.CORE_READY=n,t.EXTENSIONS_LOADED=r,t.READY=s,t.APP_READY=a,t.PROJECT_LOADED=o,t.THEME_READY=d}),function(e,i){"function"==typeof define&&define.amd?define(["exports",Toast],function(e,t){i(0,e)}):i(0,Toast)}(this,function(e,t){t=t.UrlParams=function(){this._store={}};_.extend(t.prototype,{parse:function(e){var t,i="",n=this;n._store={},e?-1!==e.indexOf("?")&&(i=e.substring(e.indexOf("?")+1)):i=window.document.location.search.substring(1),(i=i.trim())&&i.split("&").forEach(function(e){(t=e.split("="))[1]=t[1]||"",n._store[decodeURIComponent(t[0])]=decodeURIComponent(t[1])})},put:function(e,t){this._store[e]=t},get:function(e){return this._store[e]},remove:function(e){delete this._store[e]},isEmpty:function(e){return _.isEmpty(this._store)},toString:function(){var i=[];return _.forEach(this._store,function(e,t){i.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),i.join("&")}})}),function(e,i){"function"==typeof define&&define.amd?define(["exports",Toast],function(e,t){i(0,e)}):i(0,Toast)}(this,function(e,t){"use strict";t.RUNENV_ERROR_NO=0,t.RUNENV_ERROR_UNSUPPORTED_BROWSER=1,t.RUNENV_ERROR_UNSUPPORTED_PROTOCOL=2,t.RUNENV_ERROR=t.RUNENV_ERROR_NO,t.urlParams=new t.UrlParams,t.urlParams.parse();var i,n=document.getElementsByTagName("html")[0],r=("object"==typeof brackets?t.isEditor=t.isNative=t.isBrackets=!0:"object"==typeof app?(t.player=!0,n.setAttribute("class",n.getAttribute("class")+" player")):"undefined"!=typeof navigator&&"ReactNative"==navigator.product?t.player=!0:"undefined"!=typeof external&&void 0!==external.isNative?external.isNative()&&(t.player=!0,n.setAttribute("class",n.getAttribute("class")+" player")):n.hasAttribute("application")&&(t.isEditor=t.isNative=!0),t.inBrowser=!t.isBrackets,"MacIntel"===window.navigator.platform||"MacPPC"===window.navigator.platform?t.platform="mac":0<=window.navigator.platform.indexOf("Linux")?t.platform="linux":0<=window.navigator.platform.indexOf("Win")&&(t.platform="win"),t.os={name:t.platform},/windows/i.test(navigator.userAgent)&&(r=navigator.userAgent.toString().toLowerCase(),i=/(windows nt) ([\w.]+)/.exec(r)||["",null,-1],t.os.version=i[2],t.os.version)&&(t.os.version=Number(t.os.version)),t.isMobile=t.isMobileDevice=window.navigator.userAgent.match(/mobile|ip(ad|hone|od)|android/i),t.isMobileDevice&&(t.isMobileDevice=!0,t.isTablet=window.navigator.userAgent.match(/tablet|ipad/i)),t.isIOS=window.navigator.userAgent.match(/ip(ad|hone|od)/i),t.isIOS&&(t.isIOS=!0),t.isAndroid=window.navigator.userAgent.match(/android/i),t.isAndroid&&(t.isAndroid=!0),t.isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t.isFirefox=/Firefox/.test(navigator.userAgent),t.isEdge=/Edge/.test(navigator.userAgent),t.isIE=/msie|trident/i.test(navigator.userAgent),t.isSamsungBrowser=/SamsungBrowser/.test(navigator.userAgent),/msie|trident/i.test(navigator.userAgent)&&(r=navigator.userAgent.toString().toLowerCase(),i=/(msie) ([\w.]+)/.exec(r)||/(trident)(?:.*rv:([\w.]+))?/.exec(r)||["",null,-1],t._msieVersion=i[2],t._msieVersion)&&(t._msieVersion=Number(t._msieVersion)),/msie|trident/i.test(navigator.userAgent)&&(r=navigator.userAgent.toString().toLowerCase(),i=/(msie) ([\w.]+)/.exec(r)||/(trident)(?:.*rv:([\w.]+))?/.exec(r)||["",null,-1],t._msieVersion=i[2],t._msieVersion)&&(t._msieVersion=Number(t._msieVersion)),t.isFileProtocol=/^(file):/.test(window.location.protocol),t.isAppProtocol=/^(app):/.test(window.location.protocol),n.getAttribute("lang"));r&&"{{language}}"!==r||n.setAttribute("lang","ko"),"html"===n.getAttribute("data-publish-type")&&(t.config.htmlRender=!0),t._msieVersion&&t._msieVersion<9?(n.setAttribute("class",n.getAttribute("class")+" unsupported-browser"),t.RUNENV_ERROR=t.RUNENV_ERROR_UNSUPPORTED_BROWSER):t.config.htmlRender||t.allowFileAccessFromFileURLs||t.player||t.isNative||!t.isFileProtocol||(n.setAttribute("class",n.getAttribute("class")+" file-protocal"),t.RUNENV_ERROR=t.RUNENV_ERROR_UNSUPPORTED_PROTOCOL)}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";var u,s=["webkit","Moz","ms","O"],h={};function f(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function p(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}e=f("style",{type:"text/css"}),p(document.getElementsByTagName("head")[0],e);var g=e.sheet||e.styleSheet;function n(e,t){var i,n,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<s.length;n++)if(void 0!==r[i=s[n]+t])return i;if(void 0!==r[t])return t}function _(e,t){for(var i in t)e.style[n(e,i)||i]=t[i];return e}function t(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)void 0===e[i]&&(e[i]=n[i])}return e}function m(e,t){return"string"==typeof e?e:e[t%e.length]}var i={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function r(e){this.opts=t(e||{},r.defaults,i)}r.defaults={},t(r.prototype,{spin:function(e){this.stop();var i,n,r,s,a,o,d,l=this,c=l.opts,h=l.el=_(f(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex});c.radius,c.length,c.width;return _(h,{left:c.left,top:c.top}),e&&e.insertBefore(h,e.firstChild||null),h.setAttribute("role","progressbar"),l.lines(h,l.opts),void 0===c.useCssAnimations&&(c.useCssAnimations=!0),u&&!1!==c.useCssAnimations||(i=0,n=(c.lines-1)*(1-c.direction)/2,s=c.fps,a=s/c.speed,o=(1-c.opacity)/(a*c.trail/100),d=a/c.lines,function e(){i++;for(var t=0;t<c.lines;t++)r=Math.max(1-(i+(c.lines-t)*d)%a*o,c.opacity),l.opacity(h,t*c.direction+n,r,c);l.timeout=l.el&&setTimeout(e,~~(1e3/s))}()),l},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,i){var t,n,r,s,a,o,d=0,l=(i.lines-1)*(1-i.direction)/2;function c(e,t){return _(f(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*d+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(;d<i.lines;d++)o=_(f(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:u&&(t=i.opacity,n=i.trail,r=l+d*i.direction,s=i.lines,o=a=void 0,a=["opacity",n,~~(100*t),r,s].join("-"),r=.01+r/s*100,s=Math.max(1-(1-t)/n*(100-r),t),o=u.substring(0,u.indexOf("Animation")).toLowerCase(),h[a]||(g.insertRule("@"+(o&&"-"+o+"-"||"")+"keyframes "+a+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(.01+r)+"%{opacity:1}"+(r+n)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",g.cssRules.length),h[a]=1),a+" "+1/i.speed+"s linear infinite")}),i.shadow&&p(o,_(c("#000","0 0 4px #000"),{top:"2px"})),p(e,p(o,c(m(i.color,d),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var e=_(f("group"),{behavior:"url(#default#VML)"});function l(e,t){return f("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}return!n(e,"transform")&&e.adj?(g.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(e,n){var r=n.length+n.width,t=2*r;function s(){return _(l("group",{coordsize:t+" "+t,coordorigin:-r+" "+-r}),{width:t,height:t})}var i,a=2*-(n.width+n.length)+"px",o=_(s(),{position:"absolute",top:a,left:a});function d(e,t,i){p(o,p(_(s(),{rotation:360/n.lines*e+"deg",left:~~t}),p(_(l("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:i}),l("fill",{color:m(n.color,e),opacity:n.opacity}),l("stroke",{opacity:0}))))}if(n.shadow)for(i=1;i<=n.lines;i++)d(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=n.lines;i++)d(i);return p(e,o)},r.prototype.opacity=function(e,t,i,n){e=e.firstChild;n=n.shadow&&n.lines||0,e&&t+n<e.childNodes.length&&(e=(e=(e=e.childNodes[t+n])&&e.firstChild)&&e.firstChild)&&(e.opacity=i)}):u=n(e,"animation"),r}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.eg=e.eg||{},e.eg.Flicking=t())}(this,function(){"use strict";function M(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function o(e){return void 0===e}(e=L.prototype).trigger=function(e,t){void 0===t&&(t={});var i=this._eventHandler[e]||[];if(!(0<i.length))return!0;i=i.concat(),t.eventType=e;var n=!1,r=[t],s=0;t.stop=function(){n=!0},t.currentTarget=this;for(var a=arguments.length,o=new Array(2<a?a-2:0),d=2;d<a;d++)o[d-2]=arguments[d];for(1<=o.length&&(r=r.concat(o)),s=0;i[s];s++)i[s].apply(this,r);return!n},e.once=function(r,s){if("object"==typeof r&&o(s)){var e,t=r;for(e in t)this.once(e,t[e])}else{var a;"string"==typeof r&&"function"==typeof s&&(a=this).on(r,function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];s.apply(a,i),a.off(r,e)})}return this},e.hasOn=function(e){return!!this._eventHandler[e]},e.on=function(e,t){if("object"==typeof e&&o(t)){var i,n=e;for(i in n)this.on(i,n[i])}else{var r;"string"==typeof e&&"function"==typeof t&&(o(r=this._eventHandler[e])&&(this._eventHandler[e]=[],r=this._eventHandler[e]),r.push(t))}return this},e.off=function(e,t){if(o(e))this._eventHandler={};else if(o(t))if("string"==typeof e)this._eventHandler[e]=void 0;else{var i,n=e;for(i in n)this.off(i,n[i])}else{var r,s,a=this._eventHandler[e];if(a)for(r=0;void 0!==(s=a[r]);r++)if(s===t){a=a.splice(r,1);break}}return this},(e=L).VERSION="2.1.2";var e;function L(){this._eventHandler={},this.options={}}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var n="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}:Object.assign,H=["","webkit","Moz","MS","ms","o"],r="undefined"==typeof document?{style:{}}:document.createElement("div"),s=Math.round,m=Math.abs,$=Date.now;function z(e,t){for(var i,n=t[0].toUpperCase()+t.slice(1),r=0;r<H.length;){if((i=(i=H[r])?i+n:t)in e)return i;r++}}var F,U,d="undefined"==typeof window?{}:window,B=z(r.style,"touchAction"),q=void 0!==B,W="compute",V="manipulation",l="none",c="pan-x",h="pan-y",u=q&&(F={},U=d.CSS&&d.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return F[e]=!U||d.CSS.supports("touch-action",e)}),F),Y="ontouchstart"in d,X=void 0!==z(d,"PointerEvent"),K=Y&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),G="touch",J="mouse",Z=25,v=1,y=4,x=8,Q=["x","y"],ee=["clientX","clientY"];function f(e,t,i){if(e)if(e.forEach)e.forEach(t,i);else if(void 0!==e.length)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(var n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function te(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function p(e,t){return-1<e.indexOf(t)}(r=ne.prototype).set=function(e){e===W&&(e=this.compute()),q&&this.manager.element.style&&u[e]&&(this.manager.element.style[B]=e),this.actions=e.toLowerCase().trim()},r.update=function(){this.set(this.manager.options.touchAction)},r.compute=function(){var e,t,i,n=[];return f(this.manager.recognizers,function(e){te(e.options.enable,[e])&&(n=n.concat(e.getTouchAction()))}),p(e=n.join(" "),l)||(t=p(e,c),i=p(e,h),t&&i)?l:t||i?t?c:h:p(e,V)?V:"auto"},r.preventDefaults=function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=p(n,l)&&!u[l],s=p(n,h)&&!u[h],n=p(n,c)&&!u[c];if(r){var a=1===e.pointers.length,o=e.distance<2,e=e.deltaTime<250;if(a&&o&&e)return}return n&&s?void 0:r||s&&6&i||n&&24&i?this.preventSrc(t):void 0}t.preventDefault()},r.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()};var ie=ne;function ne(e,t){this.manager=e,this.set(t)}function re(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function se(e){var t=e.length;if(1===t)return{x:s(e[0].clientX),y:s(e[0].clientY)};for(var i=0,n=0,r=0;r<t;)i+=e[r].clientX,n+=e[r].clientY,r++;return{x:s(i/t),y:s(n/t)}}function ae(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:s(e.pointers[i].clientX),clientY:s(e.pointers[i].clientY)},i++;return{timeStamp:$(),pointers:t,center:se(t),deltaX:e.deltaX,deltaY:e.deltaY}}function oe(e,t,i){var n=t[(i=i||Q)[0]]-e[i[0]],t=t[i[1]]-e[i[1]];return Math.sqrt(n*n+t*t)}function de(e,t,i){var n=t[(i=i||Q)[0]]-e[i[0]],t=t[i[1]]-e[i[1]];return 180*Math.atan2(t,n)/Math.PI}function le(e,t){return e===t?1:m(e)>=m(t)?e<0?2:4:t<0?8:16}function ce(e,t,i){return{x:t/e||0,y:i/e||0}}function he(e,t,i){var n,r,s,a,o,d,l,c,h,u,f,p=i.pointers.length,g=i.changedPointers.length,_=t&v&&p-g==0,p=t&(y|x)&&p-g==0;i.isFirst=!!_,i.isFinal=!!p,_&&(e.session={}),i.eventType=t,g=i,_=(p=e).session,t=g.pointers,n=t.length,_.firstInput||(_.firstInput=ae(g)),1<n&&!_.firstMultiple?_.firstMultiple=ae(g):1===n&&(_.firstMultiple=!1),n=_.firstInput,r=_.firstMultiple,s=(r||n).center,a=g.center=se(t),g.timeStamp=$(),g.deltaTime=g.timeStamp-n.timeStamp,g.angle=de(s,a),g.distance=oe(s,a),s=(n=g).center,u=(a=_).offsetDelta||{},o=a.prevDelta||{},f=a.prevInput||{},n.eventType!==v&&f.eventType!==y||(o=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},u=a.offsetDelta={x:s.x,y:s.y}),n.deltaX=o.x+(s.x-u.x),n.deltaY=o.y+(s.y-u.y),g.offsetDirection=le(g.deltaX,g.deltaY),f=ce(g.deltaTime,g.deltaX,g.deltaY),g.overallVelocityX=f.x,g.overallVelocityY=f.y,g.overallVelocity=m(f.x)>m(f.y)?f.x:f.y,g.scale=r?(a=r.pointers,oe(t[0],t[1],ee)/oe(a[0],a[1],ee)):1,g.rotation=r?(n=r.pointers,de(t[1],t[0],ee)+de(n[1],n[0],ee)):0,g.maxPointers=!_.prevInput||g.pointers.length>_.prevInput.maxPointers?g.pointers.length:_.prevInput.maxPointers,o=g,u=(s=_).lastInterval||o,f=o.timeStamp-u.timeStamp,o.eventType!==x&&(Z<f||void 0===u.velocity)?(d=(c=ce(f,f=o.deltaX-u.deltaX,h=o.deltaY-u.deltaY)).x,l=c.y,c=m(c.x)>m(c.y)?c.x:c.y,h=le(f,h),s.lastInterval=o):(c=u.velocity,d=u.velocityX,l=u.velocityY,h=u.direction),o.velocity=c,o.velocityX=d,o.velocityY=l,o.direction=h,a=p.element,re(g.srcEvent.target,a)&&(a=g.srcEvent.target),g.target=a,e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function ue(e){return e.trim().split(/\s+/g)}function fe(t,e,i){f(ue(e),function(e){t.addEventListener(e,i,!1)})}function pe(t,e,i){f(ue(e),function(e){t.removeEventListener(e,i,!1)})}function ge(e){e=e.ownerDocument||e;return e.defaultView||e.parentWindow||window}(r=_e.prototype).handler=function(){},r.init=function(){this.evEl&&fe(this.element,this.evEl,this.domHandler),this.evTarget&&fe(this.target,this.evTarget,this.domHandler),this.evWin&&fe(ge(this.element),this.evWin,this.domHandler)},r.destroy=function(){this.evEl&&pe(this.element,this.evEl,this.domHandler),this.evTarget&&pe(this.target,this.evTarget,this.domHandler),this.evWin&&pe(ge(this.element),this.evWin,this.domHandler)};r=_e;function _e(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){te(t.options.enable,[t])&&i.handler(e)},this.init()}function g(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}var me,ve={pointerdown:v,pointermove:2,pointerup:y,pointercancel:x,pointerout:x},ye={2:G,3:"pen",4:J,5:"kinect"},xe="pointerdown",be="pointermove pointerup pointercancel",ke=(d.MSPointerEvent&&!d.PointerEvent&&(xe="MSPointerDown",be="MSPointerMove MSPointerUp MSPointerCancel"),i(we,me=r),we.prototype.handler=function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),n=ve[n],r=ye[e.pointerType]||e.pointerType,s=r===G,a=g(t,e.pointerId,"pointerId");n&v&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):n&(y|x)&&(i=!0),a<0||(t[a]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(a,1))},we);function we(){var e=we.prototype;return e.evEl=xe,e.evWin=be,(e=me.apply(this,arguments)||this).store=e.manager.session.pointerEvents=[],e}function je(e){return Array.prototype.slice.call(e,0)}var Te,Ce={touchstart:v,touchmove:2,touchend:y,touchcancel:x},Ee=(i(_,Te=r),_.prototype.handler=function(e){var t=Ce[e.type],i=function(e,t){var i,n=je(e.touches),r=this.targetIds;if(t&(2|v)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var s=je(e.changedTouches),a=[],o=this.target,d=n.filter(function(e){return re(e.target,o)});if(t===v)for(i=0;i<d.length;)r[d[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),t&(y|x)&&delete r[s[i].identifier],i++;return a.length?[function(e,i,t){for(var n=[],r=[],s=0;s<e.length;){var a=i?e[s][i]:e[s];g(r,a)<0&&n.push(e[s]),r[s]=a,s++}return n=t?i?n.sort(function(e,t){return e[i]>t[i]}):n.sort():n}(d.concat(a),"identifier",!0),a]:void 0}.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:G,srcEvent:e})},_);function _(){return _.prototype.evTarget="touchstart touchmove touchend touchcancel",_.prototype.targetIds={},Te.apply(this,arguments)||this}var Se,Oe={mousedown:v,mousemove:2,mouseup:y},Ae=(i(Ie,Se=r),Ie.prototype.handler=function(e){var t=Oe[e.type];t&v&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=y),this.pressed&&(t&y&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:J,srcEvent:e}))},Ie),Ne=2500;function Ie(){var e=Ie.prototype;return e.evEl="mousedown",e.evWin="mousemove mouseup",(e=Se.apply(this,arguments)||this).pressed=!1,e}function Pe(e){var t,i,e=e.changedPointers[0];e.identifier===this.primaryTouch&&(t={x:e.clientX,y:e.clientY},i=this.lastTouches,this.lastTouches.push(t),setTimeout(function(){var e=i.indexOf(t);-1<e&&i.splice(e,1)},Ne))}i(Me,De=r),Me.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()};var De,Re=Me;function Me(e,t){var s,i;return e=a(a(s=De.call(this,e,t)||this)),t=function(e,t,i){var n=i.pointerType===G,r=i.pointerType===J;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(e,t){e&v?(this.primaryTouch=t.changedPointers[0].identifier,Pe.call(this,t)):e&(y|x)&&Pe.call(this,t)}.call(a(a(s)),t,i);else if(r&&function(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(t-r.x),r=Math.abs(i-r.y);if(s<=25&&r<=25)return!0}return!1}.call(a(a(s)),i))return;s.callback(e,t,i)}},(i="handler")in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,s.touch=new Ee(s.manager,s.handler),s.mouse=new Ae(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}function b(e,t,i){return Array.isArray(e)&&(f(e,i[t],i),1)}var Le=1;function He(e,t){t=t.manager;return t?t.get(e):e}function $e(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}(r=Ue.prototype).set=function(e){return n(this.options,e),this.manager&&this.manager.touchAction.update(),this},r.recognizeWith=function(e){var t;return b(e,"recognizeWith",this)||(t=this.simultaneous)[(e=He(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},r.dropRecognizeWith=function(e){return b(e,"dropRecognizeWith",this)||(e=He(e,this),delete this.simultaneous[e.id]),this},r.requireFailure=function(e){var t;return b(e,"requireFailure",this)||-1===g(t=this.requireFail,e=He(e,this))&&(t.push(e),e.requireFailure(this)),this},r.dropRequireFailure=function(e){return b(e,"dropRequireFailure",this)||(e=He(e,this),-1<(e=g(this.requireFail,e))&&this.requireFail.splice(e,1)),this},r.hasRequireFailures=function(){return 0<this.requireFail.length},r.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},r.emit=function(t){var i=this,e=this.state;function n(e){i.manager.emit(e,t)}e<8&&n(i.options.event+$e(e)),n(i.options.event),t.additionalEvent&&n(t.additionalEvent),8<=e&&n(i.options.event+$e(e))},r.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=32},r.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},r.recognize=function(e){e=n({},e);te(this.options.enable,[this,e])?(56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)):(this.reset(),this.state=32)},r.process=function(e){},r.getTouchAction=function(){},r.reset=function(){};var ze=Ue,Fe={domEvents:!1,touchAction:W,enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ue(e){this.options=t({enable:!0},e=void 0===e?{}:e),this.id=Le++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}function Be(i,n){var r,s=i.element;s.style&&(f(i.options.cssProps,function(e,t){r=z(s.style,t),s.style[r]=n?(i.oldCssProps[r]=s.style[r],e):i.oldCssProps[r]||""}),n||(i.oldCssProps={}))}(r=Xe.prototype).set=function(e){return n(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},r.stop=function(e){this.session.stopped=e?2:1},r.recognize=function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,r=t.curRecognizer;(!r||8&r.state)&&(r=t.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===t.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(e),!r&&14&i.state&&(r=t.curRecognizer=i),s++}},r.get=function(e){if(e instanceof ze)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event===e)return t[i];return null},r.add=function(e){var t;return b(e,"add",this)?this:((t=this.get(e.options.event))&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e)},r.remove=function(e){var t;return b(e,"remove",this)||(t=this.get(e),e&&-1!==(t=g(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update())),this},r.on=function(e,t){var i;return void 0!==e&&void 0!==t&&(i=this.handlers,f(ue(e),function(e){i[e]=i[e]||[],i[e].push(t)})),this},r.off=function(e,t){var i;return void 0!==e&&(i=this.handlers,f(ue(e),function(e){t?i[e]&&i[e].splice(g(i[e],t),1):delete i[e]})),this},r.emit=function(e,t){this.options.domEvents&&(i=e,n=t,(r=document.createEvent("Event")).initEvent(i,!0,!0),(r.gesture=n).target.dispatchEvent(r));var i,n,r,s=this.handlers[e]&&this.handlers[e].slice();if(s&&s.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](t),a++}},r.destroy=function(){this.element&&Be(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null};var qe,We=Xe,Ve=(i(Ye,qe=ze),(r=Ye.prototype).attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},r.process=function(e){var t=this.state,i=e.eventType,n=6&t,e=this.attrTest(e);return n&&(i&x||!e)?16|t:n||e?i&y?8|t:2&t?4|t:2:32},Ye);function Ye(e){return qe.call(this,t({pointers:1},e=void 0===e?{}:e))||this}function Xe(e,t){var i=this;this.options=n({},Fe,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(X?ke:K?Ee:Y?Re:Ae))(this,he),this.touchAction=new ie(this,this.options.touchAction),Be(this,!0),f(this.options.recognizers,function(e){var t=i.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}i(Je,Ke=Ve),(r=Je.prototype).getTouchAction=function(){var e=this.options.direction,t=[];return 6&e&&t.push(h),24&e&&t.push(c),t},r.directionTest=function(e){var t=this.options,i=!0,n=e.distance,r=e.direction,s=e.deltaX,a=e.deltaY;return r&t.direction||(n=6&t.direction?(r=0===s?1:s<0?2:4,i=s!==this.pX,Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,i=a!==this.pY,Math.abs(e.deltaY))),e.direction=r,i&&n>t.threshold&&r&t.direction},r.attrTest=function(e){return Ve.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},r.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=16===(t=e.direction)?"down":8===t?"up":2===t?"left":4===t?"right":"";t&&(e.additionalEvent=this.options.event+t),Ke.prototype.emit.call(this,e)};var Ke,Ge=Je;function Je(e){return(e=Ke.call(this,t({event:"pan",threshold:10,pointers:1,direction:30},e=void 0===e?{}:e))||this).pX=null,e.pY=null,e}var r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}),k=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function Ze(e,t,i,n){i=[!i[0]&&n?t[0]-n[0]:t[0],!i[1]&&n?t[1]+n[1]:t[1]],e=Math.max(i[0],e);return+(e=Math.min(i[1],e)).toFixed(5)}function Qe(e,t){return e<t[0]||e>t[1]}function et(e,t,i){return i[1]&&e>t[1]||i[0]&&e<t[0]}function w(e,t,i){var n=e,r=t[0],t=t[1],s=t-r;return i[1]&&t<e&&(n=(n-t)%s+r),+(n=i[0]&&e<r?(n-r)%s+t:n).toFixed(5)}function j(e,t){for(var i in e)if(e[i]!==t[i])return!1;return!0}(S=it.prototype)._complementOptions=function(){var r=this;Object.keys(this.axis).forEach(function(n){r.axis[n]=k({range:[0,100],bounce:[0,0],circular:[!1,!1]},r.axis[n]),["bounce","circular"].forEach(function(e){var t=r.axis,i=t[n][e];/string|number|boolean/.test(typeof i)&&(t[n][e]=[i,i])})})},S.getDelta=function(e,t){var i=this.get(e);return this.map(this.get(t),function(e,t){return e-i[t]})},S.get=function(e){var i=this;return e&&Array.isArray(e)?e.reduce(function(e,t){return t&&t in i._pos&&(e[t]=i._pos[t]),e},{}):k({},this._pos,e||{})},S.moveTo=function(i){var n=this,e=this.map(this._pos,function(e,t){return i[t]?i[t]-n._pos[t]:0});return this.set(i),{pos:k({},this._pos),delta:e}},S.set=function(e){for(var t in e)t&&t in this._pos&&(this._pos[t]=e[t])},S.every=function(e,t){var i,n=this.axis;for(i in e)if(i&&!t(e[i],i,n[i]))return!1;return!0},S.filter=function(e,t){var i,n={},r=this.axis;for(i in e)i&&t(e[i],i,r[i])&&(n[i]=e[i]);return n},S.map=function(e,t){var i,n={},r=this.axis;for(i in e)i&&(n[i]=t(e[i],i,r[i]));return n},S.isOutside=function(e){return!this.every(e?this.get(e):this._pos,function(e,t,i){return!Qe(e,i.range)})};var tt=it;function it(e,t){var i=this;this.axis=e,this.options=t,this._complementOptions(),this._pos=Object.keys(this.axis).reduce(function(e,t){return e[t]=i.axis[t].range[0],e},{})}function nt(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t}var T,rt,st,C=(T="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).requestAnimationFrame||T.webkitRequestAnimationFrame,E=T.cancelAnimationFrame||T.webkitCancelAnimationFrame;function at(e,t,i){return Math.max(Math.min(e,i),t)}C&&!E?(rt={},st=C,C=function(t){var i=st(function(e){rt[i]&&t(e)});return rt[i]=!0,i},E=function(e){delete rt[e]}):C&&E||(C=function(e){return T.setTimeout(function(){e(T.performance&&T.performance.now&&T.performance.now()||(new Date).getTime())},16)},E=T.clearTimeout);(S=xt.prototype).getDuration=function(i,e,t){var n,r=this;return at(void 0!==t?t:(n=this.axm.map(e,function(e,t){return e=Math.abs(Math.abs(e)-Math.abs(i[t])),t=r.options.deceleration,(e=Math.sqrt(e/t*2))<100?0:e}),Object.keys(n).reduce(function(e,t){return Math.max(e,n[t])},-1/0)),this.options.minimumDuration,this.options.maximumDuration)},S.createAnimationParam=function(e,t,i){var n=this.axm.get(),r=i&&i.event||null;return{depaPos:n,destPos:e,duration:at(t,this.options.minimumDuration,this.options.maximumDuration),delta:this.axm.getDelta(n,e),inputEvent:r,input:i&&i.input||null,isTrusted:!!r,done:this.animationEnd}},S.grab=function(e,t){var i;this._animateParam&&e.length&&(i=this.axm.get(e),e=this.axm.map(i,function(e,t,i){return w(e,i.range,i.circular)}),this.axm.every(e,function(e,t){return i[t]===e})||this.em.triggerChange(e,t,!!t),this._animateParam=null,this._raf&&(e=this._raf,E(e)),this._raf=null,this.em.triggerAnimationEnd(!(!t||!t.event)))},S.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},S.restore=function(e){var t=this.axm.get(),i=this.axm.map(t,function(e,t,i){return Math.min(i.range[1],Math.max(i.range[0],e))});this.animateTo(i,this.getDuration(t,i),e)},S.animationEnd=function(){var e=this.getEventInfo(),t=(this._animateParam=null,this.axm.filter(this.axm.get(),function(e,t,i){return et(e,i.range,i.circular)}));0<Object.keys(t).length&&this.setTo(this.axm.map(t,function(e,t,i){return w(e,i.range,i.circular)})),this.itm.setInterrupt(!1),this.em.triggerAnimationEnd(!!e),this.axm.isOutside()?this.restore(e):this.em.triggerFinish(!!e)},S.animateLoop=function(t,i){var n,r;this._animateParam=k({},t),this._animateParam.startTime=(new Date).getTime(),(t.duration?(n=this._animateParam,r=this,function e(){r._raf=null,1<=r.frame(n)?(j(t.destPos,r.axm.get(Object.keys(t.destPos)))||r.em.triggerChange(t.destPos),i()):r._raf=C(e)}):(this.em.triggerChange(t.destPos),i))()},S.getUserControll=function(e){e=e.setTo();return e.destPos=this.axm.get(e.destPos),e.duration=at(e.duration,this.options.minimumDuration,this.options.maximumDuration),e},S.animateTo=function(e,t,i){var n=this,e=this.createAnimationParam(e,t,i),t=k({},e.depaPos),r=this.em.triggerAnimationStart(e),e=this.getUserControll(e);!r&&this.axm.every(e.destPos,function(e,t,i){return et(e,i.range,i.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),r&&!j(e.destPos,t)&&(r=i&&i.event||null,this.animateLoop({depaPos:t,destPos:e.destPos,duration:e.duration,delta:this.axm.getDelta(t,e.destPos),isTrusted:!!r,inputEvent:r,input:i&&i.input||null},function(){return n.animationEnd()}))},S.frame=function(n){var e=(new Date).getTime()-n.startTime,r=this.easing(e/n.duration),e=n.depaPos,e=this.axm.map(e,function(e,t,i){return w(e+=n.delta[t]*r,i.range,i.circular)});return this.em.triggerChange(e),r},S.easing=function(e){return 1<e?1:this.options.easing(e)},S.setTo=function(e,n){void 0===n&&(n=0);var t=Object.keys(e),i=(this.grab(t),this.axm.get(t));return j(e,i)||(this.itm.setInterrupt(!0),t=this.axm.filter(e,function(e,t){return i[t]!==e}),Object.keys(t).length&&!j(t=this.axm.map(t,function(e,t,i){return i.circular&&(i.circular[0]||i.circular[1])?0<n?e:w(e,i.range,i.circular):Ze(e,i.range,i.circular)}),i)&&(0<n?this.animateTo(t,n):(this.em.triggerChange(t),this.itm.setInterrupt(!1)))),this},S.setBy=function(i,e){return void 0===e&&(e=0),this.setTo(this.axm.map(this.axm.get(Object.keys(i)),function(e,t){return e+i[t]}),e)};var ot,dt,lt=xt,ct=((S=yt.prototype).triggerHold=function(e,t){this.axes.trigger("hold",{pos:e,input:t.input||null,inputEvent:t.event||null,isTrusted:!0})},S.triggerRelease=function(e){e.setTo=this.createUserControll(e.destPos,e.duration),this.axes.trigger("release",e)},S.triggerChange=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=!1);var n=this.am.getEventInfo(),e=this.am.axm.moveTo(e),r=t&&t.event||n&&n.event||null,i={pos:e.pos,delta:e.delta,holding:i,inputEvent:r,isTrusted:!!r,input:t&&t.input||n&&n.input||null,set:r?this.createUserControll(e.pos):function(){}};this.axes.trigger("change",i),r&&this.am.axm.set(i.set().destPos)},S.triggerAnimationStart=function(e){return e.setTo=this.createUserControll(e.destPos,e.duration),this.axes.trigger("animationStart",e)},S.triggerAnimationEnd=function(e){this.axes.trigger("animationEnd",{isTrusted:e=void 0===e?!1:e})},S.triggerFinish=function(e){this.axes.trigger("finish",{isTrusted:e=void 0===e?!1:e})},S.createUserControll=function(e,t){void 0===t&&(t=0);var i={destPos:k({},e),duration:t};return function(e,t){return e&&(i.destPos=k({},e)),void 0!==t&&(i.duration=t),i}},S.setAnimationManager=function(e){this.am=e},S.destroy=function(){this.axes.off()},yt),ht=((S=vt.prototype).isInterrupting=function(){return this.options.interruptable||this._prevented},S.isInterrupted=function(){return!this.options.interruptable&&this._prevented},S.setInterrupt=function(e){this.options.interruptable||(this._prevented=e)},vt),ut=((S=mt.prototype).atOutside=function(e){var s,a=this;return this.isOutside?this.axm.map(e,function(e,t,i){var n=i.range[0]-i.bounce[0],i=i.range[1]+i.bounce[1];return i<e?i:e<n?n:e}):(s=this.am.easing(1e-5)/1e-5,this.axm.map(e,function(e,t,i){var n=i.range[0],r=i.range[1],i=i.bounce;return e<n?n-a.am.easing((n-e)/(i[0]*s))*i[0]:r<e?r+a.am.easing((e-r)/(i[1]*s))*i[1]:e}))},S.get=function(e){return this.axm.get(e.axes)},S.hold=function(e,t){!this.itm.isInterrupted()&&e.axes.length&&(t={input:e,event:t},this.itm.setInterrupt(!0),this.am.grab(e.axes,t),this.moveDistance||this.em.triggerHold(this.axm.get(),t),this.isOutside=this.axm.isOutside(e.axes),this.moveDistance=this.axm.get(e.axes))},S.change=function(e,t,i){var n,r;this.itm.isInterrupting()&&!this.axm.every(i,function(e){return 0===e})&&(n=this.axm.get(e.axes),r=this.axm.map(this.moveDistance||n,function(e,t){return e+(i[t]||0)}),this.moveDistance&&(this.moveDistance=r),r=this.axm.map(r,function(e,t,i){return w(e,i.range,i.circular)}),this.isOutside&&this.axm.every(n,function(e,t,i){return!Qe(e,i.range)})&&(this.isOutside=!1),r=this.atOutside(r),this.em.triggerChange(r,{input:e,event:t},!0))},S.release=function(e,t,i,n){var r,s;this.itm.isInterrupting()&&this.moveDistance&&(r=this.axm.get(e.axes),s=this.axm.get(),i=this.axm.get(this.axm.map(i,function(e,t,i){return i.circular&&(i.circular[0]||i.circular[1])?r[t]+e:Ze(r[t]+e,i.range,i.circular,i.bounce)})),n={depaPos:s,destPos:i=0===(n=this.am.getDuration(i,r,n))?k({},s):i,duration:n,delta:this.axm.getDelta(s,i),inputEvent:t,input:e,isTrusted:!0},this.em.triggerRelease(n),this.moveDistance=null,i={input:e,event:t},(t=j((e=this.am.getUserControll(n)).destPos,s))||0===e.duration?(t||this.em.triggerChange(e.destPos,i,!0),this.itm.setInterrupt(!1),this.axm.isOutside()?this.am.restore(i):this.em.triggerFinish(!0)):this.am.animateTo(e.destPos,e.duration,i))},mt),S=function(){if("undefined"!=typeof document)for(var e=(document.head||document.getElementsByTagName("head")[0]).style,t=["transform","webkitTransform","msTransform","mozTransform"],i=0,n=t.length;i<n;i++)if(t[i]in e)return t[i];return""}(),O=(r(dt=A,r=ot=e),dt.prototype=null===r?Object.create(r):(_t.prototype=r.prototype,new _t),(r=A.prototype).connect=function(e,t){var i,e="string"==typeof e?e.split(" "):e.concat();return~this._inputs.indexOf(t)&&this.disconnect(t),"hammer"in t&&(i=this._inputs.filter(function(e){return e.hammer&&e.element===t.element})).length&&(t.hammer=i[0].hammer),t.mapAxes(e),t.connect(this.io),this._inputs.push(t),this},r.disconnect=function(e){return e?0<=(e=this._inputs.indexOf(e))&&(this._inputs[e].disconnect(),this._inputs.splice(e,1)):(this._inputs.forEach(function(e){return e.disconnect()}),this._inputs=[]),this},r.get=function(e){return this.axm.get(e)},r.setTo=function(e,t){return this.am.setTo(e,t=void 0===t?0:t),this},r.setBy=function(e,t){return this.am.setBy(e,t=void 0===t?0:t),this},r.isBounceArea=function(e){return this.axm.isOutside(e)},r.destroy=function(){this.disconnect(),this.em.destroy()},A.VERSION="2.5.7-snapshot",A.TRANSFORM=S,A.DIRECTION_NONE=1,A.DIRECTION_LEFT=2,A.DIRECTION_RIGHT=4,A.DIRECTION_UP=8,A.DIRECTION_DOWN=16,A.DIRECTION_HORIZONTAL=6,A.DIRECTION_VERTICAL=24,A.DIRECTION_ALL=30,A),ft="PointerEvent"in T||"MSPointerEvent"in T,pt="ontouchstart"in T,gt="_EGJS_AXES_INPUTTYPE_";function A(e,t,i){void 0===e&&(e={});var n=ot.call(this)||this;return n.axis=e,n._inputs=[],n.options=k({easing:function(e){return 1-Math.pow(1-e,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4},t),n.itm=new ht(n.options),n.axm=new tt(n.axis,n.options),n.em=new ct(n),n.am=new lt(n),n.io=new ut(n),n.em.setAnimationManager(n.am),i&&n.em.triggerChange(i),n}function _t(){this.constructor=dt}function mt(e){var t=e.options,i=e.itm,n=e.em,r=e.axm,e=e.am;this.isOutside=!1,this.moveDistance=null,this.options=t,this.itm=i,this.em=n,this.axm=r,this.am=e}function vt(e){this.options=e,this._prevented=!1}function yt(e){this.axes=e}function xt(e){var t=e.options,i=e.itm,n=e.em,e=e.axm;this.options=t,this.itm=i,this.em=n,this.axm=e,this.animationEnd=this.animationEnd.bind(this)}function bt(n,e){return e.reduce(function(e,t,i){return n[i]&&(e[n[i]]=t),e},{})}function kt(e,t,i){return i?!!(30===t||t&e&&i&e):!!(t&e)}(r=Tt.prototype).mapAxes=function(e){var t=!!e[0],i=!!e[1];this._direction=t&&i?30:t?6:i?24:1,this.axes=e},r.connect=function(e){var t,i,n,r={direction:this._direction,threshold:this.options.threshold};if(this.hammer)this.removeRecognizer(),this.dettachEvent();else{var s=(s=this.element[gt])||String(Math.round(Math.random()*(new Date).getTime())),a=(a=this.options.inputType,n=i=t=!1,(a=void 0===a?[]:a).forEach(function(e){switch(e){case"mouse":i=!0;break;case"touch":t=pt;break;case"pointer":n=ft}}),n?ke:t&&i?Re:t?Ee:i?Ae:null);if(!a)throw new Error("Wrong inputType parameter!");this.hammer=function(e,t){try{return new We(e,k({},t))}catch(e){return null}}(this.element,k({inputClass:a},this.options.hammerManagerOptions)),this.element[gt]=s}return this.panRecognizer=new Ge(r),this.hammer.add(this.panRecognizer),this.attachEvent(e),this},r.disconnect=function(){return this.removeRecognizer(),this.hammer&&this.dettachEvent(),this._direction=1,this},r.destroy=function(){this.disconnect(),this.hammer&&0===this.hammer.recognizers.length&&this.hammer.destroy(),delete this.element[gt],this.element=null,this.hammer=null},r.enable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!0),this},r.disable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!1),this},r.isEnable=function(){return!(!this.hammer||!this.hammer.get("pan").options.enable)},r.removeRecognizer=function(){this.hammer&&this.panRecognizer&&(this.hammer.remove(this.panRecognizer),this.panRecognizer=null)},r.onHammerInput=function(e){this.isEnable()&&(e.isFirst?this.observer.hold(this,e):e.isFinal&&this.onPanend(e))},r.onPanmove=function(e){t=e.angle;var t=(i=this.options.thresholdAngle)<0||90<i?1:i<(t=Math.abs(t))&&t<180-i?24:6,i=this.hammer.session.prevInput,i=(e.offsetY=i?(e.offsetX=e.deltaX-i.deltaX,e.deltaY-i.deltaY):e.offsetX=0,this.getOffset([e.offsetX,e.offsetY],[kt(6,this._direction,t),kt(24,this._direction,t)])),t=i.some(function(e){return 0!==e});t&&(e.srcEvent.preventDefault(),e.srcEvent.stopPropagation()),(e.preventSystemEvent=t)&&this.observer.change(this,e,bt(this.axes,i))},r.onPanend=function(e){var t=this.getOffset([Math.abs(e.velocityX)*(e.deltaX<0?-1:1),Math.abs(e.velocityY)*(e.deltaY<0?-1:1)],[kt(6,this._direction),kt(24,this._direction)]),i=this.observer.options.deceleration,n=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.abs(n/-i),i=[t[0]/2*n,t[1]/2*n];this.observer.release(this,e,bt(this.axes,i))},r.attachEvent=function(e){this.observer=e,this.hammer.on("hammer.input",this.onHammerInput).on("panstart panmove",this.onPanmove)},r.dettachEvent=function(){this.hammer.off("hammer.input",this.onHammerInput).off("panstart panmove",this.onPanmove),this.observer=null},r.getOffset=function(e,t){var i=[0,0],n=this.options.scale;return t[0]&&(i[0]=e[0]*n[0]),t[1]&&(i[1]=e[1]*n[1]),i};var N,wt=Tt,I=(N="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,P={$:function(e){var t,i=null;return"string"==typeof e?(t=e.match(/^<([a-z]+)\s*([^>]*)>/))?(i=I.createElement(t[1]),3===t.length&&t[2].split(" ").forEach(function(e){e=e.split("=");i.setAttribute(e[0],e[1].trim().replace(/(^["']|["']$)/g,""))})):(i=I.querySelectorAll(e)).length?1===i.length&&(i=i[0]):i=null:e.nodeName&&1===e.nodeType&&(i=e),i},toArray:function(e){return[].slice.call(e)},isArray:function(e){return e&&e.constructor===Array},isObject:function(e){return e&&!e.nodeType&&"object"==typeof e&&!this.isArray(e)},extend:function(i){for(var n,r=this,e=arguments.length,t=new Array(1<e?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];return!t.length||1===t.length&&!t[0]?i:(n=t.shift(),this.isObject(i)&&this.isObject(n)&&Object.keys(n).forEach(function(e){var t=n[e];r.isObject(t)?(i[e]||(i[e]={}),i[e]=r.extend(i[e],t)):i[e]=r.isArray(t)?t.concat():t}),this.extend.apply(this,[i].concat(t)))},css:function(e,t,i){var n,r;return"string"==typeof t?((n=e.style[t])&&"auto"!==n&&(!/\d/.test(n)||/\d(px)?$/.test(n))||(n=N.getComputedStyle(e)[t]),i?this.getNumValue(n):n):(r=function(t,i){return Object.keys(i).forEach(function(e){t[e]=i[e]})},this.isArray(e)?e.forEach(function(e){return r(e.style,t)}):r(e.style,t),e)},classList:function(e,t,i){var n,r="boolean"==typeof i;return e.classList?n=e.classList[r&&(i?"add":"remove")||"contains"](t):(n=e.className,r?i&&-1===n.indexOf(t)?n=e.className=(n+" "+t).replace(/\s{2,}/g," "):i||(n=e.className=n.replace(t,"")):n=new RegExp("\\b"+t+"\\b").test(n)),n},getNumValue:function(e,t){return isNaN(e=parseFloat(e))?t:e},getUnitValue:function(e){return(parseFloat(e)||0)+(String(e).match(/(?:[a-z]{2,}|%)$/)||"px")},getOuter:function(i,e){var n=this,r=0;return("outerWidth"===e?["Left","Right"]:["Top","Bottom"]).forEach(function(t){["padding","margin"].forEach(function(e){r+=n.css(i,""+e+t,!0)})}),this.css(i,e.replace("outer","").toLocaleLowerCase(),!0)+r},outerWidth:function(e){return this.getOuter(e,"outerWidth")},outerHeight:function(e){return this.getOuter(e,"outerHeight")},translate:function(e,t,i){return i?"translate3d("+e+","+t+",0)":"translate("+e+","+t+")"},hasClickBug:function(){var e=N.navigator.userAgent,t=/iPhone|iPad/.test(e);return this.hasClickBug=function(){return t},t}},S=(jt.prototype.with=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(e,t){return t(e)},this.superclass)},jt),D={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"},R={name:"transform"};function jt(e){this.superclass=e||function(){}}function Tt(e,t){if(this.axes=[],this.hammer=null,this.element=null,this.panRecognizer=null,void 0===We)throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");this.element=function t(e,i){var n;return void 0===i&&(i=!1),"string"==typeof e?(n=e.match(/^<([a-z]+)\s*([^>]*)>/)?((n=document.createElement("div")).innerHTML=e,nt(n.childNodes)):nt(document.querySelectorAll(e)),i||(n=1<=n.length?n[0]:void 0)):e!==T&&(!e.nodeName||1!==e.nodeType&&9!==e.nodeType)?"jQuery"in T&&e instanceof jQuery||e.constructor.prototype.jquery?n=i?e.toArray():e.get(0):Array.isArray(e)&&(n=e.map(function(e){return t(e)}),i||(n=1<=n.length?n[0]:void 0)):n=e,n}(e),this.options=k({inputType:["touch","mouse","pointer"],scale:[1,1],thresholdAngle:45,threshold:0,hammerManagerOptions:{cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"}}},t),this.onHammerInput=this.onHammerInput.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this)}R.support=!!I.documentElement&&(r=I.documentElement.style,R.name in r||(R.name="webkitTransform")in r);function Ct(e){return M(t,i=e),(e=t.prototype)._holdHandler=function(e){var t=this._conf,i=t.touch,e=e.pos.flick;i.holdPos=e,i.holding=!0,i.isTrusted=!0,t.panel.changed=!1,this._adjustContainerCss("start",e)},e._changeHandler=function(e){var t,i,n=this._conf,r=n.touch,s=e.pos.flick,a=r.holdPos,o=null;this._setPointerEvents(e),e.inputEvent?(t=e.inputEvent.direction,i=e.inputEvent[this.options.horizontal?"deltaX":"deltaY"],~n.dirData.indexOf(t)||(t=n.dirData[+(Math.abs(r.lastPos)<=i)]),r.lastPos=i):r.lastPos=null,!(o=n.customEvent.flick?this._triggerEvent(D.flick,{pos:s,holding:e.holding,direction:t||r.direction,distance:r.isTrusted?s-a:null}):o)&&null!==o||this._setTranslate([-s,0])},e._releaseHandler=function(e){var t=this._conf,i=t.touch,n=i.holdPos,r=t.panel.size,s=t.customEvent,a=i.holdPos<e.depaPos.flick,t=(i.distance=e.depaPos.flick-n,i.direction=t.dirData[+!a],i.destPos=n+(a?r:-r),i.distance),a=this.options.duration,r=n;this._isMovable()?(s.restoreCall||(s.restore=!1),r=i.destPos):0<Math.abs(t)?this._triggerBeforeRestore(e):a=0,e.setTo({flick:r},a),0===t&&this._adjustContainerCss("end"),i.holding=!1,this._setPointerEvents()},e._animationStartHandler=function(e){var t=this._conf,i=t.panel,n=t.customEvent,r=e.inputEvent||t.touch.lastPos;!n.restoreCall&&r&&!1===this._setPhaseValue("start",{depaPos:e.depaPos.flick,destPos:e.destPos.flick})&&e.stop(),r&&(e.duration=this.options.duration,e.destPos.flick=i.size*(i.index+t.indexToMove)),i.animating=!0},e._animationEndHandler=function(){var e=this._conf;e.panel.animating=!1,this._setPhaseValue("end"),this._triggerRestore(),e.touch.isTrusted=!1},t;function t(){return i.apply(this,arguments)||this}var i}var Et,St=N.CSS&&N.CSS.supports&&N.CSS.supports("will-change","transform"),Ot=/Android 2\./.test(N.navigator.userAgent),At="data-height",Nt={panel:{$list:null,index:0,no:0,currIndex:0,currNo:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:3},touch:{holdPos:0,destPos:0,distance:0,direction:null,lastPos:0,holding:!1,isTrusted:!1},customEvent:{flick:!0,restore:!1,restoreCall:!1},dirData:[],indexToMove:0,$dummyAnchor:null},It={hwAccelerable:!0,prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:null,bounce:null,threshold:40,duration:100,panelEffect:function(e){return 1-Math.pow(1-e,3)},defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,adaptiveHeight:!1,zIndex:2e3,useTranslate:!0};return M(Pt,Et=new S(e).with(Ct)),(r=Pt.prototype)._setOptions=function(e){var t,i={previewPadding:[0,0],bounce:[10,10]};for(t in this.options=P.extend(P.extend({},It),i,e),i){var n=this.options[t];/(number|string)/.test(typeof n)?n=[n,n]:P.isArray(n)||(n=i[t]),this.options[t]=n}Ot&&(this.options.useTranslate=!1)},r._setConfig=function(e,t){var i=this.options,n=i.previewPadding,r=(P.classList(e[0],i.prefix+"-container")&&(e=e[0],e=(this.$container=e).children),e=P.toArray(e),this._conf=P.extend(P.extend({},Nt),{panel:{$list:e,minCount:0<n[0]+n[1]?5:3},origPanelStyle:{wrapper:{className:this.$wrapper.getAttribute("class")||null,style:this.$wrapper.getAttribute("style")||null},container:{className:this.$container&&this.$container.getAttribute("class")||null,style:this.$container&&this.$container.getAttribute("style")||null},list:e.map(function(e){return{className:e.getAttribute("class")||null,style:e.getAttribute("style")||null}})},useLayerHack:i.hwAccelerable&&!St,eventPrefix:t||""}));[["LEFT","RIGHT"],["UP","DOWN"]][+!i.horizontal].forEach(function(e){return r.dirData.push(O["DIRECTION_"+e])})},r._build=function(){var t,e=this._conf.panel,i=this.options,n=e.$list,r=i.previewPadding.concat(),s=i.prefix,a=i.horizontal,o=e.count=e.origCount=n.length,d=i.bounce,l=(this._setPadding(r,!0),this._getDataByDirection([e.size,"100%"])),r={position:"relative",zIndex:i.zIndex||2e3,width:"100%",height:"100%"};a&&(r.top="0px"),this.$container?P.css(this.$container,r):(a=n[0].parentNode,(t=I.createElement("div")).className=s+"-container",P.css(t,r),n.forEach(function(e){return t.appendChild(e)}),a.appendChild(t),this.$container=t),n.forEach(function(e){P.classList(e,s+"-panel",!0),P.css(e,{position:"absolute",width:P.getUnitValue(l[0]),height:P.getUnitValue(l[1]),boxSizing:"border-box",top:0,left:0})}),this._addClonePanels()&&(o=e.count=(e.$list=P.toArray(this.$container.children)).length),this._axesInst=new O({flick:{range:[0,e.size*(o-1)],bounce:d}},{easing:i.panelEffect,deceleration:i.deceleration,interruptable:!1}),this._setDefaultPanel(i.defaultIndex)},r._setPadding=function(e,t){var i=this.$wrapper,n=this.options.horizontal,r=this._conf.panel,s={},e=(!e.reduce(function(e,t){return parseFloat(e)+parseFloat(t)})&&t||(n&&e.reverse(),s.padding=(n?"0 ":"")+e.map(function(e){return isNaN(e)?e:e+"px"}).join(" 0 ")),t&&(s.overflow="hidden",s.boxSizing="border-box"),Object.keys(s).length&&P.css(i,s),n?["Left","Right"]:["Top","Bottom"]),t=Math.max(i["offset"+(n?"Width":"Height")],P.css(i,n?"width":"height",!0));r.size=t-(P.css(i,"padding"+e[0],!0)+P.css(i,"padding"+e[1],!0))},r._addClonePanels=function(){var e,t=this,i=this._conf.panel,n=i.origCount,r=i.minCount-n,s=i.$list;if(this.options.circular&&n<i.minCount){for(e=s.map(function(e){return e.cloneNode(!0)});e.length<r;)e=e.concat(s.map(function(e){return e.cloneNode(!0)}));return e.forEach(function(e){return t.$container.appendChild(e)}),!!e.length}return!1},r._movePanelPosition=function(e,t){var i=this._conf.panel,n=i.$list,e=n.splice(t?0:i.count-e,e);i.$list=t?n.concat(e):e.concat(n)},r._setDefaultPanel=function(e){var t,i=this._conf.panel,n=i.count-1;this.options.circular?(0<e&&e<=n&&this._movePanelPosition(e,!0),t=this._getBasePositionIndex(),this._movePanelPosition(t,!1),this._setPanelNo({no:e,currNo:e})):0<e&&e<=n&&(this._setPanelNo({index:e,no:e,currIndex:e,currNo:e}),t=[-i.size*e,0],this._setTranslate(t),this._setAxes("setTo",Math.abs(t[0]),0))},r._arrangePanels=function(e,t){var i=this._conf,n=i.panel,r=i.touch,s=i.dirData;this.options.circular&&(i.customEvent.flick=!1,e&&(t&&(r.direction=s[+!(0<t)]),this._arrangePanelPosition(r.direction,t)),e=this._getBasePositionIndex(),this._setPanelNo({index:e,currIndex:e}),i.customEvent.flick=!!this._setAxes("setTo",n.size*n.index,0)),this._applyPanelsPos()},r._applyPanelsPos=function(){this._conf.panel.$list.forEach(this._applyPanelsCss.bind(this))},r._setMoveStyle=function(e,t){var i=R,n=this._conf.useLayerHack;this._setMoveStyle=i.support?function(e,t){P.css(e,((e={})[i.name]=P.translate(t[0],t[1],n),e))}:function(e,t){P.css(e,{left:t[0],top:t[1]})},this._setMoveStyle(e,t)},r._applyPanelsCss=function(){var e=this._conf,t="__dummy_anchor",i=this.options.useTranslate;this._applyPanelsCss=i?function(e,t){t=this._getDataByDirection([R.support?100*t+"%":this._conf.panel.size*t+"px",0]);this._setMoveStyle(e,t)}:(Ot&&(e.$dummyAnchor=P.$("."+t),!e.$dummyAnchor)&&this.$wrapper.appendChild(e.$dummyAnchor=P.$('<a href="javascript:void(0)" class="'+t+'" style="position:absolute;height:0px;width:0px">')),function(e,t){t=this._getDataByDirection([this._conf.panel.size*t+"px",0]);P.css(e,{left:t[0],top:t[1]})})},r._adjustContainerCss=function(e,t){var i=this._conf,n=i.panel,r=this.options,s=r.useTranslate,a=r.horizontal,r=r.previewPadding[0],o=this.$container;s||(t=t||-n.size*n.index,"start"===e?(o=o.style,s=parseFloat(o[a?"left":"top"]),a?s&&(o.left="0px"):s!==r&&(o.top="0px"),this._setTranslate([-t,0])):"end"===e&&(t=this._getCoordsValue([t,0]),P.css(o,((n={left:t.x,top:t.y})[R.name]=P.translate(0,0,i.useLayerHack),n)),i.$dummyAnchor)&&i.$dummyAnchor.focus())},r._setAxes=function(e,t,i){return this._axesInst[e]({flick:t},i)},r._setHint=function(){var e={willChange:"transform"};P.css(this.$container,e),P.css(this._conf.panel.$list,e)},r._getDataByDirection=function(e){e=e.concat();return this.options.horizontal||e.reverse(),e},r._arrangePanelPosition=function(e,t){e=e===this._conf.dirData[0];this._movePanelPosition(Math.abs(t||1),e)},r._getBasePositionIndex=function(){return Math.floor(this._conf.panel.count/2-.1)},r._bindEvents=function(e){var t=this.options,i=this.$wrapper,n=this._axesInst;e?(this._panInput=new wt(i,{inputType:t.inputType,thresholdAngle:t.thresholdAngle,scale:this._getDataByDirection([-1,0])}),n.on({hold:this._holdHandler.bind(this),change:this._changeHandler.bind(this),release:this._releaseHandler.bind(this),animationStart:this._animationStartHandler.bind(this),animationEnd:this._animationEndHandler.bind(this)}).connect(this._getDataByDirection(["flick",""]),this._panInput)):(this.disableInput(),n.off())},r._setAdaptiveHeight=function(e){var t,i=this._conf,n=i.indexToMove,e=0===n?this["get"+((e===O.DIRECTION_LEFT?"Next":e===O.DIRECTION_RIGHT&&"Prev")||"")+"Element"]():i.panel.$list[i.panel.currIndex+n],i=e.querySelector(":first-child");i&&((n=i.getAttribute(At))||(t=e.children,0<(n=P.outerHeight(1<t.length?(e.style.height="auto",e):i))&&i.setAttribute(At,n)),0<n)&&(this.$wrapper.style.height=n+"px")},r._triggerBeforeRestore=function(e){var t=this._conf,i=t.touch;i.direction=+t.dirData.join("").replace(i.direction,""),t.customEvent.restore=this._triggerEvent(D.beforeRestore,{depaPos:e.depaPos.flick,destPos:e.destPos.flick}),t.customEvent.restore||("stop"in e&&e.stop(),t.panel.animating=!1)},r._triggerRestore=function(){var e=this._conf.customEvent;e.restore&&this._triggerEvent(D.restore),e.restore=e.restoreCall=!1},r._setPhaseValue=function(e,t){var i=this._conf,n=this.options,r=i.panel,s=n.useTranslate;if("start"===e&&(r.changed=this._isMovable())){if(!this._triggerEvent(D.beforeFlickStart,t))return r.changed=r.animating=!1;n.adaptiveHeight&&this._setAdaptiveHeight(i.touch.direction),0===i.indexToMove&&this._setPanelNo()}else"end"===e&&(n.circular&&r.changed&&this._arrangePanels(!0,i.indexToMove),s&&this._setTranslate([-r.size*r.index,0]),i.touch.distance=i.indexToMove=0,r.changed)&&this._triggerEvent(D.flickEnd);return this._adjustContainerCss(e),!0},r._getNumByDirection=function(){var e=this._conf;return e.touch.direction===e.dirData[0]?1:-1},r._revertPanelNo=function(){var e=this._conf.panel,t=this._getNumByDirection(),i=0<=e.currIndex?e.currIndex:e.index-t,e=0<=e.currNo?e.currNo:e.no-t;this._setPanelNo({index:i,no:e})},r._setPanelNo=function(e){var t=this._conf.panel,i=t.origCount-1,n=this._getNumByDirection();if(P.isObject(e))for(var r in e)t[r]=e[r];else t.currIndex=t.index,t.currNo=t.no,t.index+=n,t.no+=n;t.no>i?t.no=0:t.no<0&&(t.no=i)},r._setPointerEvents=function(e){var t,i=this.$container,n=P.css(i,"pointerEvents");e&&e.holding&&e.inputEvent&&e.inputEvent.preventSystemEvent&&"none"!==n?t="none":e||"auto"===n||(t="auto"),t&&P.css(i,{pointerEvents:t})},r._getCoordsValue=function(e){e=this._getDataByDirection(e);return{x:P.getUnitValue(e[0]),y:P.getUnitValue(e[1])}},r._setTranslate=function(e){e=this._getCoordsValue(e);this._setMoveStyle(this.$container,[e.x,e.y])},r._isMovable=function(){var e=this.options,t=this._axesInst,i=Math.abs(this._conf.touch.distance)>=e.threshold;return!(!e.circular&&i&&(e=t.axis.flick.range[1],(t=t.get().flick)<0||e<t))&&i},r._triggerEvent=function(e,t){var i=this._conf,n=i.panel;return e===D.flickEnd&&(n.currNo=n.no,n.currIndex=n.index),this.trigger(i.eventPrefix+e,P.extend({eventType:e,no:n.currNo,direction:i.touch.direction,isTrusted:i.touch.isTrusted},t))},r._getElement=function(e,t,i){var n,r=this._conf.panel,s=this.options.circular,a=r.currIndex,e=e===this._conf.dirData[0],o=null,d=i=i?(n=r.count,a):(n=r.origCount,r.currNo);return e?i<n-1?i++:s&&(i=0):0<i?i--:s&&(i=n-1),o=d!==i?t?r.$list[e?a+1:a-1]:i:o},r._setValueToMove=function(e){var t=this._conf;t.touch.distance=this.options.threshold+1,t.touch.direction=t.dirData[+!e]},r.getIndex=function(e){return this._conf.panel[e?"currIndex":"currNo"]},r.getElement=function(){var e=this._conf.panel;return e.$list[e.currIndex]},r.getNextElement=function(){return this._getElement(this._conf.dirData[0],!0)},r.getNextIndex=function(e){return this._getElement(this._conf.dirData[0],!1,e)},r.getAllElements=function(){return this._conf.panel.$list},r.getPrevElement=function(){return this._getElement(this._conf.dirData[1],!0)},r.getPrevIndex=function(e){return this._getElement(this._conf.dirData[1],!1,e)},r.isPlaying=function(){return this._conf.panel.animating},r._movePanelByPhase=function(e,t,i){i=P.getNumValue(i,this.options.duration);!1===this._setPhaseValue("start")||(this._setAxes(e,t,i),i)||this._setPhaseValue("end")},r.next=function(e){var t=this.getNextIndex();return"number"!=typeof t?this:this._moveTo(t,e,O.DIRECTION_RIGHT)},r.prev=function(e){var t=this.getPrevIndex();return"number"!=typeof t?this:this._moveTo(t,e,O.DIRECTION_LEFT)},r.moveTo=function(e,t){return this._moveTo(e,t)},r._moveTo=function(e,t,i){var n=this._conf,r=n.panel,s=this.options.circular,a=r.index;return(e=P.getNumValue(e,-1))<0||e>=r.origCount||e===r.no||r.animating||n.touch.holding||(n=e-(s?r.no:a),i===O.DIRECTION_RIGHT&&n<0?n+=r.origCount:i===O.DIRECTION_LEFT&&0<n&&(n-=r.origCount),i=0<n,s&&Math.abs(n)>(i?r.count-(a+1):a)&&(i=0<(n+=(i?-1:1)*r.count)),this._setPanelNo(s?{no:e}:{no:e,index:e}),this._conf.indexToMove=n,this._setValueToMove(i),this._movePanelByPhase(s?"setBy":"setTo",r.size*(s?n:e),t)),this},r.resize=function(){var e,t,i=this._conf,n=this.options,i=i.panel,r=n.horizontal,s=n.useTranslate;return this.isPlaying()||(P.isArray(n.previewPadding)&&"number"==typeof+n.previewPadding.join("")?(this._setPadding(n.previewPadding.concat()),e=i.size):r&&(e=i.size=P.css(this.$wrapper,"width",!0)),P.css(i.$list,((t={})[r?"width":"height"]=P.getUnitValue(e),t)),n.adaptiveHeight&&(r=this.$container.querySelectorAll("["+At+"]")).length&&(P.toArray(r).forEach(function(e){return e.removeAttribute(At)}),this._setAdaptiveHeight()),this._axesInst.axis.flick.range=[0,e*(i.count-1)],this._setAxes("setTo",e*i.index,0),s)||(this._applyPanelsPos(),this._adjustContainerCss("end")),this},r.restore=function(e){var t,i=this._conf,n=i.panel,r=this._axesInst.get().flick;return r!==n.currIndex*n.size?(i.customEvent.restoreCall=!0,e=P.getNumValue(e,this.options.duration),this._revertPanelNo(),t=n.size*n.index,this._triggerBeforeRestore({depaPos:r,destPos:t}),this._setAxes("setTo",t,e),e||(this._adjustContainerCss("end"),this._triggerRestore())):n.changed&&(this._revertPanelNo(),i.touch.distance=i.indexToMove=0),this},r.enableInput=function(){return this._panInput.enable(),this},r.disableInput=function(){return this._panInput.disable(),this},r.getStatus=function(e){var t=this._conf.panel,i=/((?:-webkit-)?transform|left|top|will-change|box-sizing|width):[^;]*;/g,t={panel:{index:t.index,no:t.no,currIndex:t.currIndex,currNo:t.currNo},$list:t.$list.map(function(e){return{style:e.style.cssText.replace(i,"").trim(),className:e.className,html:e.innerHTML}})};return e?JSON.stringify(t):t},r.setStatus=function(e){var t=this._conf.panel,i=this.options.adaptiveHeight,r="string"==typeof e?JSON.parse(e):e;if(r){for(var n in r.panel)n in t&&(t[n]=r.panel[n]);t.$list.forEach(function(e,t){var t=r.$list[t],i=t.style,n=t.className,t=t.html;i&&(e.style.cssText+=i),n&&(e.className=n),t&&(e.innerHTML=t)}),i&&this._setAdaptiveHeight()}},r.destroy=function(){var t=this,e=this._conf.origPanelStyle,i=e.wrapper,n=e.container,r=e.list,s=(this._bindEvents(!1),this.off(),this._axesInst.destroy(),this._panInput.destroy(),this.$wrapper),i=(s.setAttribute("class",i.className),s[i.style?"setAttribute":"removeAttribute"]("style",i.style),this.$container),a=[].slice.call(i.children);e.container.className?(i.setAttribute("class",n.className),i[n.style?"setAttribute":"removeAttribute"]("style",n.style)):(a.forEach(function(e){return s.appendChild(e)}),i.parentNode.removeChild(i));for(var o,d,l,c,h=0;o=a[h];h++)h>r.length-1?o.parentNode.removeChild(o):(d=r[h].className,l=r[h].style,o[d?"setAttribute":"removeAttribute"]("class",d),o[l?"setAttribute":"removeAttribute"]("style",l));for(c in this.plugins.forEach(function(e){t.plugins[e].$componentWillUnmount()}),this)this[c]=null},r.plugin=function(e){var i=this;return e.forEach(function(t){0===i.plugins.filter(function(e){return e.constructor===t.constructor}).length&&i.plugins.push(t.$componentWillMount(i))}),this},(r=Pt).utils=P,r.VERSION="2.4.3",r.consts={EVENTS:D,TRANSFORM:R,SUPPORT_WILLCHANGE:St,IS_ANDROID2:Ot},r.DIRECTION_NONE=O.DIRECTION_NONE,r.DIRECTION_LEFT=O.DIRECTION_LEFT,r.DIRECTION_RIGHT=O.DIRECTION_RIGHT,r.DIRECTION_UP=O.DIRECTION_UP,r.DIRECTION_DOWN=O.DIRECTION_DOWN,r.DIRECTION_HORIZONTAL=O.DIRECTION_HORIZONTAL,r.DIRECTION_VERTICAL=O.DIRECTION_VERTICAL,r.DIRECTION_ALL=O.DIRECTION_ALL,r;function Pt(e,t,i){(n=Et.call(this)||this).$wrapper=P.$(e),n.plugins=[];var n,e=n.$wrapper&&n.$wrapper.children;if(n.$wrapper&&e&&e.length)return n._setOptions(t),n._setConfig(e,i),P.hasClickBug()||(n._setPointerEvents=function(){}),n._build(),n._bindEvents(!0),n._applyPanelsCss(),n._arrangePanels(),n.options.hwAccelerable&&St&&n._setHint(),n.options.adaptiveHeight&&n._setAdaptiveHeight(),n._adjustContainerCss("end"),n;throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.")}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@egjs/flicking")):"function"==typeof define&&define.amd?define(["@egjs/flicking"],t):(e.eg=e.eg||{},e.eg.Flicking=e.eg.Flicking||{},e.eg.Flicking.plugin=e.eg.Flicking.plugin||{},e.eg.Flicking.plugin.OpacityEffect=t(e.eg.Flicking))}(this,function(e){"use strict";var t,i=e.utils,n=i.extend(i.extend({},e.consts),{DIRECTION_NONE:e.DIRECTION_NONE,DIRECTION_LEFT:e.DIRECTION_LEFT,DIRECTION_RIGHT:e.DIRECTION_RIGHT,DIRECTION_UP:e.DIRECTION_UP,DIRECTION_DOWN:e.DIRECTION_DOWN,DIRECTION_HORIZONTAL:e.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:e.DIRECTION_VERTICAL,DIRECTION_ALL:e.DIRECTION_ALL}),r=((e=s.prototype).$componentWillMount=function(e){return this.$$=e,this.useWillChange="transform"===e.$container.style.willChange,this.useLayerHack=this.getInstanceConf().useLayerHack,this.bindEvents(),this.$componentMount(),this.$componentDidMount(),this},e.$componentDidMount=function(){return this},e.$componentWillUnmount=function(){var t=this;Object.keys(this).forEach(function(e){t[e]=null})},e.getInstanceConf=function(){return this.$$._conf},e.bindEvents=function(){this.$$.on({flick:this._onFlick.bind(this),flickEnd:this._onFlickEnd.bind(this),restore:this._onRestore.bind(this)})},e._onFlick=function(e){var t=e.pos,t=e.distance||t-this.$$._conf.panel.size;this.onFlick&&this.onFlick(e,t)},e._onFlickEnd=function(e){var t=(e.direction&n.DIRECTION_LEFT?"next":e.direction&n.DIRECTION_RIGHT&&"prev")||"";t&&this.arrange&&this.arrange(t),this.onFlickEnd&&this.onFlickEnd(e)},e._onRestore=function(e){this.onRestore&&this.onRestore(e)},(e=s).utils=i,e.consts=n,e.VERSION="2.4.3",e);function s(e){this.options=e=void 0===e?{}:e}return i=t=r,(e=a).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i,(e=a.prototype).$componentMount=function(){return this.details=r.utils.toArray(this.$$.$wrapper.querySelectorAll(this.options.selector)),this._build(),this.resize(),this},e._build=function(){this.details=[this.details.pop()].concat(this.details)},e._setSelected=function(e,t){var i=r.utils;i.classList(i.css(this.details[e],{opacity:""}),"selected",t)},e.resize=function(){this.size=this.getInstanceConf().panel.size,this.onRestore("resize")},e.arrange=function(e){"resize"!==e&&(this.details="next"===e?this.details.concat(this.details.shift()):[this.details.pop()].concat(this.details)),this._setSelected(1,!0),/next|resize/.test(e)&&this._setSelected(0,!1),/prev|resize/.test(e)&&this._setSelected(2,!1)},e.onFlick=function(e,t){var e=e.pos%this.size/this.size,i=r.utils;Math.abs(t)>=this.size||i.css(this.details[1],{opacity:0<t&&e<=.5&&1-2*e||t<0&&.5<e&&2*(e-.5)})},e.onRestore=function(){this.arrange("resize")},e.get=function(){return this.details[1]},a;function a(e){return t.call(this,{selector:e})||this}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@egjs/flicking")):"function"==typeof define&&define.amd?define(["@egjs/flicking"],t):(e.eg=e.eg||{},e.eg.Flicking=e.eg.Flicking||{},e.eg.Flicking.plugin=e.eg.Flicking.plugin||{},e.eg.Flicking.plugin.ParallaxEffect=t(e.eg.Flicking))}(this,function(e){"use strict";var t,i=e.utils,n=i.extend(i.extend({},e.consts),{DIRECTION_NONE:e.DIRECTION_NONE,DIRECTION_LEFT:e.DIRECTION_LEFT,DIRECTION_RIGHT:e.DIRECTION_RIGHT,DIRECTION_UP:e.DIRECTION_UP,DIRECTION_DOWN:e.DIRECTION_DOWN,DIRECTION_HORIZONTAL:e.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:e.DIRECTION_VERTICAL,DIRECTION_ALL:e.DIRECTION_ALL}),a=((e=r.prototype).$componentWillMount=function(e){return this.$$=e,this.useWillChange="transform"===e.$container.style.willChange,this.useLayerHack=this.getInstanceConf().useLayerHack,this.bindEvents(),this.$componentMount(),this.$componentDidMount(),this},e.$componentDidMount=function(){return this},e.$componentWillUnmount=function(){var t=this;Object.keys(this).forEach(function(e){t[e]=null})},e.getInstanceConf=function(){return this.$$._conf},e.bindEvents=function(){this.$$.on({flick:this._onFlick.bind(this),flickEnd:this._onFlickEnd.bind(this),restore:this._onRestore.bind(this)})},e._onFlick=function(e){var t=e.pos,t=e.distance||t-this.$$._conf.panel.size;this.onFlick&&this.onFlick(e,t)},e._onFlickEnd=function(e){var t=(e.direction&n.DIRECTION_LEFT?"next":e.direction&n.DIRECTION_RIGHT&&"prev")||"";t&&this.arrange&&this.arrange(t),this.onFlickEnd&&this.onFlickEnd(e)},e._onRestore=function(e){this.onRestore&&this.onRestore(e)},(e=r).utils=i,e.consts=n,e.VERSION="2.4.3",e);function r(e){this.options=e=void 0===e?{}:e}return i=t=a,(e=s).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i,(e=s.prototype).$componentMount=function(){var t=this;return this.imgs=this.$$.getAllElements().map(function(e){return e.querySelector(t.options.selector)}),this.resize(),this._build(),this},e._build=function(){var n=this,r=a.utils,s=this._getCurrIndex();r.css(this.getInstanceConf().panel.$list,{overflow:"hidden"}),this.imgs.forEach(function(e,t){var i=-50;t<s?i=50:s===t&&(i=0),n.useWillChange&&r.css(e,{willChange:"transform"}),n._setTranslate(e,i+"%",0)})},e._setTranslate=function(e,t,i){return e&&a.utils.css(e,{transform:a.utils.translate.apply(null,this.$$._getDataByDirection([t,i]).concat(this.useLayerHack))}),e},e._getCurrIndex=function(){return this.getInstanceConf().panel.currIndex},e._getPanel=function(){var e=this._getCurrIndex();return{prev:this.imgs[e-1],curr:this.imgs[e],next:this.imgs[e+1]}},e.arrange=function(e){this.$$.options.circular&&"resize"!==e&&(this.imgs="next"===e?this.imgs.concat(this.imgs.shift()):[this.imgs.pop()].concat(this.imgs));var t=this._getPanel();this._setTranslate(t.curr,0,0),/next|resize/.test(e)&&this._setTranslate(t.next,"50%",0),/prev|resize/.test(e)&&this._setTranslate(t.prev,"-50%",0)},e.onFlick=function(e,t){var i,n=this,e=e.pos,r=this.size,e=e%r/2,s=-(r/2-e);Math.abs(t)>=r||(r=this._getPanel(),i=[],0<t&&r.next?(i.push({el:r.curr,x:e}),i.push({el:r.next,x:s})):t<0&&r.prev&&(i.push({el:r.curr,x:s}),i.push({el:r.prev,x:e})),i.forEach(function(e){return n._setTranslate(e.el,e.x+"px",0)}))},e.onRestore=function(){this.arrange("resize")},e.resize=function(){this.size=this.getInstanceConf().panel.size,this.onRestore("resize")},e.get=function(){return this.imgs[this._getCurrIndex()]},s;function s(e){return t.call(this,{selector:e})||this}}),function(e,i){"function"==typeof define&&define.amd?define(["exports",Toast],function(e,t){i(0,e)}):i(0,Toast)}(this,function(e,i){"use strict";i.Spinner=Spinner;var r={},s={width:2,lines:10,length:5,opacity:0,color:"black"};i.showLoading=function(e,t){(t=_.extend({modal:!0},t)).el&&(t.modal=!1);var i,n=t.el?t.el.data("indigator"):r;!n&&e&&((i=$(document.body).children(".indigator").clone()).removeClass("modal in"),n={el:i,spinner:new Spinner(_.extend(s,{useCssAnimations:t.useCssAnimations}))},t.el.append(n.el),t.el.data("indigator",n)),e?n&&(n.spinner.spin(n.el.find(".indigator-container > .spinner")[0]),t.modal&&n.el.addClass("modal in"),t.text&&n.el.children(".indigator-container > .text").text(t.text).show(),n.el.show()):n&&(n.spinner.stop(),n.el.children(".indigator-container > .text").text(""),n.el.removeClass("modal in"),n.el.hide(),t.el)&&(delete n.spinner,t.el.removeData("indigator"),n.el.remove())},$(document).ready(function(){var e=$(document.body).children(".indigator"),t=e.find(".spinner").attr("data-color");t&&(s.color=t),i.isNative||(s.width=3),r={el:e,spinner:new Spinner(s)}})}),function(e){"function"==typeof define&&define.amd?define(e):e(jQuery)}(function(){"use strict";for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=[256],s=[256],e=0,a=function(e){return e.replace(/[\u0080-\u07ff]/g,function(e){e=e.charCodeAt(0);return String.fromCharCode(192|e>>6,128|63&e)}).replace(/[\u0800-\uffff]/g,function(e){e=e.charCodeAt(0);return String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)})},o=function(e){return e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){e=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(e)}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){e=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(e)})};e<256;){var t=String.fromCharCode(e);n+=t,r[s[e]=e]=i.indexOf(t),++e}function d(e,t,i,n,r,s){for(var a=0,o=0,d=(e=String(e)).length,l="",c=0;o<d;){var h=e.charCodeAt(o),a=(a<<r)+(h<256?i[h]:-1);for(c+=r;s<=c;){var u=a>>(c-=s);l+=n.charAt(u),a^=u<<c}++o}return!t&&0<c&&(l+=n.charAt(a<<s-c)),l}var l=$.base64=function(e,t,i){return t?l[e](t,i):e?null:this};l.btoa=l.encode=function(e,t){return(e=d(e=!1===l.raw||l.utf8encode||t?a(e):e,!1,s,i,8,6))+"====".slice(e.length%4||4)},l.atob=l.decode=function(e,t){e=String(e).split("=");for(var i=e.length;e[--i]=d(e[i],!0,r,n,6,8),0<i;);return e=e.join(""),!1===l.raw||l.utf8decode||t?o(e):e}}),function(e){"function"==typeof define&&define.amd?define(e):e(jQuery)}(function(){function o(e,t){return e<<t|e>>>32-t}function h(e,t){var i=2147483648&e,n=2147483648&t,r=1073741824&e,s=1073741824&t,e=(1073741823&e)+(1073741823&t);return r&s?2147483648^e^i^n:r|s?1073741824&e?3221225472^e^i^n:1073741824^e^i^n:e^i^n}function u(e,t,i,n,r,s,a){return e=h(e,h(h(t&i|~t&n,r),a)),h(o(e,s),t)}function f(e,t,i,n,r,s,a){return e=h(e,h(h(t&n|i&~n,r),a)),h(o(e,s),t)}function p(e,t,i,n,r,s,a){return e=h(e,h(h(t^i^n,r),a)),h(o(e,s),t)}function g(e,t,i,n,r,s,a){return e=h(e,h(h(i^(t|~n),r),a)),h(o(e,s),t)}function _(e){for(var t="",i="",n=0;n<=3;n++)t+=(i="0"+(e>>>8*n&255).toString(16)).substr(i.length-2,2);return t}$.extend({md5:function(e){Array();for(var t,i,n,r,s=function(e){for(var t,i=e.length,n=i+8,n=16*(1+(n-n%64)/64),r=Array(n-1),s=0,a=0;a<i;)s=a%4*8,r[t=(a-a%4)/4]=r[t]|e.charCodeAt(a)<<s,a++;return r[t=(a-a%4)/4]=r[t]|128<<(s=a%4*8),r[n-2]=i<<3,r[n-1]=i>>>29,r}(e=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):t=127<n&&n<2048?(t+=String.fromCharCode(n>>6|192))+String.fromCharCode(63&n|128):(t=(t+=String.fromCharCode(n>>12|224))+String.fromCharCode(n>>6&63|128))+String.fromCharCode(63&n|128)}return t}(e)),a=1732584193,o=4023233417,d=2562383102,l=271733878,c=0;c<s.length;c+=16)a=u(t=a,i=o,n=d,r=l,s[c+0],7,3614090360),l=u(l,a,o,d,s[c+1],12,3905402710),d=u(d,l,a,o,s[c+2],17,606105819),o=u(o,d,l,a,s[c+3],22,3250441966),a=u(a,o,d,l,s[c+4],7,4118548399),l=u(l,a,o,d,s[c+5],12,1200080426),d=u(d,l,a,o,s[c+6],17,2821735955),o=u(o,d,l,a,s[c+7],22,4249261313),a=u(a,o,d,l,s[c+8],7,1770035416),l=u(l,a,o,d,s[c+9],12,2336552879),d=u(d,l,a,o,s[c+10],17,4294925233),o=u(o,d,l,a,s[c+11],22,2304563134),a=u(a,o,d,l,s[c+12],7,1804603682),l=u(l,a,o,d,s[c+13],12,4254626195),d=u(d,l,a,o,s[c+14],17,2792965006),o=u(o,d,l,a,s[c+15],22,1236535329),a=f(a,o,d,l,s[c+1],5,4129170786),l=f(l,a,o,d,s[c+6],9,3225465664),d=f(d,l,a,o,s[c+11],14,643717713),o=f(o,d,l,a,s[c+0],20,3921069994),a=f(a,o,d,l,s[c+5],5,3593408605),l=f(l,a,o,d,s[c+10],9,38016083),d=f(d,l,a,o,s[c+15],14,3634488961),o=f(o,d,l,a,s[c+4],20,3889429448),a=f(a,o,d,l,s[c+9],5,568446438),l=f(l,a,o,d,s[c+14],9,3275163606),d=f(d,l,a,o,s[c+3],14,4107603335),o=f(o,d,l,a,s[c+8],20,1163531501),a=f(a,o,d,l,s[c+13],5,2850285829),l=f(l,a,o,d,s[c+2],9,4243563512),d=f(d,l,a,o,s[c+7],14,1735328473),o=f(o,d,l,a,s[c+12],20,2368359562),a=p(a,o,d,l,s[c+5],4,4294588738),l=p(l,a,o,d,s[c+8],11,2272392833),d=p(d,l,a,o,s[c+11],16,1839030562),o=p(o,d,l,a,s[c+14],23,4259657740),a=p(a,o,d,l,s[c+1],4,2763975236),l=p(l,a,o,d,s[c+4],11,1272893353),d=p(d,l,a,o,s[c+7],16,4139469664),o=p(o,d,l,a,s[c+10],23,3200236656),a=p(a,o,d,l,s[c+13],4,681279174),l=p(l,a,o,d,s[c+0],11,3936430074),d=p(d,l,a,o,s[c+3],16,3572445317),o=p(o,d,l,a,s[c+6],23,76029189),a=p(a,o,d,l,s[c+9],4,3654602809),l=p(l,a,o,d,s[c+12],11,3873151461),d=p(d,l,a,o,s[c+15],16,530742520),o=p(o,d,l,a,s[c+2],23,3299628645),a=g(a,o,d,l,s[c+0],6,4096336452),l=g(l,a,o,d,s[c+7],10,1126891415),d=g(d,l,a,o,s[c+14],15,2878612391),o=g(o,d,l,a,s[c+5],21,4237533241),a=g(a,o,d,l,s[c+12],6,1700485571),l=g(l,a,o,d,s[c+3],10,2399980690),d=g(d,l,a,o,s[c+10],15,4293915773),o=g(o,d,l,a,s[c+1],21,2240044497),a=g(a,o,d,l,s[c+8],6,1873313359),l=g(l,a,o,d,s[c+15],10,4264355552),d=g(d,l,a,o,s[c+6],15,2734768916),o=g(o,d,l,a,s[c+13],21,1309151649),a=g(a,o,d,l,s[c+4],6,4149444226),l=g(l,a,o,d,s[c+11],10,3174756917),d=g(d,l,a,o,s[c+2],15,718787259),o=g(o,d,l,a,s[c+9],21,3951481745),a=h(a,t),o=h(o,i),d=h(d,n),l=h(l,r);return(_(a)+_(o)+_(d)+_(l)).toLowerCase()}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(l){var c,h,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(l.event.fixHooks)for(var i=e.length;i;)l.event.fixHooks[e[--i]]=l.event.mouseHooks;var f=l.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n;l.data(this,"mousewheel-line-height",f.getLineHeight(this)),l.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null;l.removeData(this,"mousewheel-line-height"),l.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var e=l(e),t=e["offsetParent"in l.fn?"offsetParent":"parent"]();return t.length||(t=l("body")),parseInt(t.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(e){return l(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(e){var t,i=e||window.event,n=u.call(arguments,1),r=0,s=0,a=0,o=0,d=0;if((e=l.event.fix(i)).type="mousewheel","detail"in i&&(a=-1*i.detail),"wheelDelta"in i&&(a=i.wheelDelta),"wheelDeltaY"in i&&(a=i.wheelDeltaY),"wheelDeltaX"in i&&(s=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=-1*a,a=0),r=0===a?s:a,"deltaY"in i&&(r=a=-1*i.deltaY),"deltaX"in i&&(s=i.deltaX,0===a)&&(r=-1*s),0!==a||0!==s)return 1===i.deltaMode?(r*=t=l.data(this,"mousewheel-line-height"),a*=t,s*=t):2===i.deltaMode&&(r*=t=l.data(this,"mousewheel-page-height"),a*=t,s*=t),t=Math.max(Math.abs(a),Math.abs(s)),(!h||t<h)&&g(i,h=t)&&(h/=40),g(i,t)&&(r/=40,s/=40,a/=40),r=Math[1<=r?"floor":"ceil"](r/h),s=Math[1<=s?"floor":"ceil"](s/h),a=Math[1<=a?"floor":"ceil"](a/h),f.settings.normalizeOffset&&this.getBoundingClientRect&&(i=this.getBoundingClientRect(),o=e.clientX-i.left,d=e.clientY-i.top),e.deltaX=s,e.deltaY=a,e.deltaFactor=h,e.offsetX=o,e.offsetY=d,e.deltaMode=0,n.unshift(e,r,s,a),c&&clearTimeout(c),c=setTimeout(p,200),(l.event.dispatch||l.event.handle).apply(this,n)}function p(){h=null}function g(e,t){return f.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}l.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(E,b){"use strict";E.jstree;var e,t,c,h,u,f,p,n,r=0,s=!1,a=!1,o=!1,i=[],d=E("script:last").attr("src"),_=window.document,m=_.createElement("LI"),l=(m.setAttribute("role","treeitem"),(e=_.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),m.appendChild(e),(e=_.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=_.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),m.appendChild(e),e=t=null,E.jstree={version:"3.1.1",defaults:{plugins:[]},plugins:{},path:d&&-1!==d.indexOf("/")?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g},E.jstree.create=function(e,i){var n=new E.jstree.core(++r),t=i;return i=E.extend(!0,{},E.jstree.defaults,i),t&&t.plugins&&(i.plugins=t.plugins),E.each(i.plugins,function(e,t){"core"!==e&&(n=n.plugin(t,i[t]))}),E(e).data("jstree",n),n.init(e,i),n},E.jstree.destroy=function(){E(".jstree:jstree").jstree("destroy"),E(_).off(".jstree")},E.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},E.jstree.reference=function(t){var i=null,e=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!e||!e.length)try{e=E(t)}catch(e){}if(!e||!e.length)try{e=E("#"+t.replace(E.jstree.idregex,"\\$&"))}catch(e){}return e&&e.length&&(e=e.closest(".jstree")).length&&(e=e.data("jstree"))?i=e:E(".jstree").each(function(){var e=E(this).data("jstree");if(e&&e._model.data[t])return i=e,!1}),i},E.fn.jstree=function(i){var n="string"==typeof i,r=Array.prototype.slice.call(arguments,1),s=null;return!(!0===i&&!this.length)&&(this.each(function(){var e=E.jstree.reference(this),t=n&&e?e[i]:null;if(s=n&&t?t.apply(e,r):null,e||n||i!==b&&!E.isPlainObject(i)||E.jstree.create(this,i),null!==(s=e&&!n||!0===i?e||!1:s)&&s!==b)return!1}),null!==s&&s!==b?s:this)},E.expr[":"].jstree=E.expr.createPseudo(function(e){return function(e){return E(e).hasClass("jstree")&&E(e).data("jstree")!==b}}),E.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:E.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},E.jstree.core.prototype={plugin:function(e,t){var i=E.jstree.plugins[e];return i?(this._data[e]={},i.prototype=this,new i(t,this)):this},init:function(e,t){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=E(e).addClass("jstree jstree-"+this._id),this.settings=t,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node("#")},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var r="",s=null,t=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(_.selection&&_.selection.empty)_.selection.empty();else if(window.getSelection){e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(e){}}}).on("mousedown.jstree",E.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),t=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl, :not('.jstree-leaf') .jstree-icon",E.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",E.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",E.proxy(function(e){e.preventDefault(),e.currentTarget!==_.activeElement&&E(e.currentTarget).focus(),this.activate_node(e.currentTarget,e)},this)).on("keydown.jstree",".jstree-anchor",E.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(32!==e.which&&13!==e.which&&(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey))return!0;var t=null;switch(this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37)),e.which){case 32:e.ctrlKey&&(e.type="click",E(e.currentTarget).trigger(e));break;case 13:e.type="click",E(e.currentTarget).trigger(e);break;case 37:e.preventDefault(),this.is_open(e.currentTarget)?this.close_node(e.currentTarget):(t=this.get_parent(e.currentTarget))&&"#"!==t.id&&this.get_node(t,!0).children(".jstree-anchor").focus();break;case 38:e.preventDefault(),(t=this.get_prev_dom(e.currentTarget))&&t.length&&t.children(".jstree-anchor").focus();break;case 39:e.preventDefault(),this.is_closed(e.currentTarget)?this.open_node(e.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(e.currentTarget)&&(t=this.get_node(e.currentTarget,!0).children(".jstree-children")[0])&&E(this._firstChild(t)).children(".jstree-anchor").focus();break;case 40:e.preventDefault(),(t=this.get_next_dom(e.currentTarget))&&t.length&&t.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:e.preventDefault(),(t=this._firstChild(this.get_container_ul()[0]))&&E(t).children(".jstree-anchor").filter(":visible").focus();break;case 35:e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",E.proxy(function(e,t){t.status&&("#"!==t.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(E.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var e=[],t=0,i=this._data.core.selected.length;t<i;t++)e=e.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,i=(e=E.vakata.array_unique(e)).length;t<i;t++)this.open_node(e[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",E.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;s&&clearTimeout(s),s=setTimeout(function(){r=""},500);var i=String.fromCharCode(e.which).toLowerCase(),e=this.element.find(".jstree-anchor").filter(":visible"),t=e.index(_.activeElement)||0,n=!1;if(1<(r+=i).length){if(e.slice(t).each(E.proxy(function(e,t){if(0===E(t).text().toLowerCase().indexOf(r))return E(t).focus(),!(n=!0)},this)),n)return;if(e.slice(0,t).each(E.proxy(function(e,t){if(0===E(t).text().toLowerCase().indexOf(r))return E(t).focus(),!(n=!0)},this)),n)return}new RegExp("^"+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(r)&&(e.slice(t+1).each(E.proxy(function(e,t){if(E(t).text().toLowerCase().charAt(0)===i)return E(t).focus(),!(n=!0)},this)),n||e.slice(0,t+1).each(E.proxy(function(e,t){if(E(t).text().toLowerCase().charAt(0)===i)return E(t).focus(),!(n=!0)},this)))},this)).on("init.jstree",E.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",E.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",E.proxy(function(e){this._data.core.focused=null,E(e.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",E.proxy(function(e){var t=this.get_node(e.currentTarget);t&&t.id&&(this._data.core.focused=t.id),this.element.find(".jstree-hovered").not(e.currentTarget).mouseleave(),E(e.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",E.proxy(function(){var e;500<+new Date-t&&!this._data.core.focused&&(t=0,e=this.get_node(this.element.attr("aria-activedescendant"),!0))&&e.find("> .jstree-anchor").focus()},this)).on("mouseenter.jstree",".jstree-anchor",E.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",E.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),E(_).off(".jstree-"+this._id)},trigger:function(e,t){((t=t||{}).instance=this).element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var t=this.settings.core.strings;return E.isFunction(t)?t.call(this,e):t&&t[e]?t[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(e,t){var i;e&&e.id&&(e=e.id);try{if(this._model.data[e])e=this._model.data[e];else if("string"==typeof e&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if("string"==typeof e&&(i=E("#"+e.replace(E.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])e=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=E(e,this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])e=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=E(e,this.element)).length||!i.hasClass("jstree"))return!1;e=this._model.data["#"]}return e=t?"#"===e.id?this.element:E("#"+e.id.replace(E.jstree.idregex,"\\$&"),this.element):e}catch(e){return!1}},get_path:function(e,t,i){if(!(e=e.parents?e:this.get_node(e))||"#"===e.id||!e.parents)return!1;var n,r,s=[];for(s.push(i?e.id:e.text),n=0,r=e.parents.length;n<r;n++)s.push(i?e.parents[n]:this.get_text(e.parents[n]));return s=s.reverse().slice(1),t?s.join(t):s},get_next_dom:function(e,t){var i;if((e=this.get_node(e,!0))[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return!!i&&E(i)}if(!e||!e.length)return!1;if(t){for(i=e[0];(i=this._nextSibling(i))&&0===i.offsetHeight;);return!!i&&E(i)}if(e.hasClass("jstree-open")){for(i=this._firstChild(e.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return E(i)}for(i=e[0];(i=this._nextSibling(i))&&0===i.offsetHeight;);return null!==i?E(i):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,t){var i;if((e=this.get_node(e,!0))[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return!!i&&E(i)}if(!e||!e.length)return!1;if(t){for(i=e[0];(i=this._previousSibling(i))&&0===i.offsetHeight;);return!!i&&E(i)}for(i=e[0];(i=this._previousSibling(i))&&0===i.offsetHeight;);if(null===i)return!(!(i=e[0].parentNode.parentNode)||!i.className||-1===i.className.indexOf("jstree-node"))&&E(i);for(e=E(i);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e},get_parent:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||0<e.children.length)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(i,n){var e,t,r,s,a;if(E.isArray(i))this._load_nodes(i.slice(),n);else{if(!(i=this.get_node(i)))return n&&n.call(this,i,!1),!1;if(i.state.loaded){for(i.state.loaded=!1,e=0,t=i.children_d.length;e<t;e++){for(r=0,s=i.parents.length;r<s;r++)this._model.data[i.parents[r]].children_d=E.vakata.array_remove_item(this._model.data[i.parents[r]].children_d,i.children_d[e]);this._model.data[i.children_d[e]].state.selected&&(a=!0,this._data.core.selected=E.vakata.array_remove_item(this._data.core.selected,i.children_d[e])),delete this._model.data[i.children_d[e]]}i.children=[],i.children_d=[],a&&this.trigger("changed",{action:"load_node",node:i,selected:this._data.core.selected})}i.state.failed=!1,i.state.loading=!0,this.get_node(i,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(i,E.proxy(function(e){(i=this._model.data[i.id]).state.loading=!1,i.state.loaded=e,i.state.failed=!i.state.loaded;var t=this.get_node(i,!0);i.state.loaded&&!i.children.length&&t&&t.length&&!t.hasClass("jstree-leaf")&&t.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),t.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:i,status:e}),n&&n.call(this,i,e)},this))}return!0},_load_nodes:function(e,t,i){for(var n=!0,r=function(){this._load_nodes(e,t,!0)},s=this._model.data,a=[],o=0,d=e.length;o<d;o++)!s[e[o]]||(s[e[o]].state.loaded||s[e[o]].state.failed)&&i||(this.is_loading(e[o])||this.load_node(e[o],r),n=!1);if(n){for(o=0,d=e.length;o<d;o++)s[e[o]]&&s[e[o]].state.loaded&&a.push(e[o]);t&&!t.done&&(t.call(this,a),t.done=!0)}},load_all:function(e,t){if(e=e||"#",!(e=this.get_node(e)))return!1;var i,n,r=[],s=this._model.data,a=s[e.id].children_d;for(e.state&&!e.state.loaded&&r.push(e.id),i=0,n=a.length;i<n;i++)s[a[i]]&&s[a[i]].state&&!s[a[i]].state.loaded&&r.push(a[i]);r.length?this._load_nodes(r,function(){this.load_all(e,t)}):(t&&t.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(r,s){var e,t=this.settings.core.data;return t?E.isFunction(t)?t.call(this,r,E.proxy(function(e){!1===e&&s.call(this,!1),this["string"==typeof e?"_append_html_data":"_append_json_data"](r,"string"==typeof e?E(E.parseHTML(e)).filter(function(){return 3!==this.nodeType}):e,function(e){s.call(this,e)})},this)):"object"==typeof t?t.url?(t=E.extend(!0,{},t),E.isFunction(t.url)&&(t.url=t.url.call(this,r)),E.isFunction(t.data)&&(t.data=t.data.call(this,r)),E.ajax(t).done(E.proxy(function(e,t,i){var n=i.getResponseHeader("Content-Type");return n&&-1!==n.indexOf("json")||"object"==typeof e?this._append_json_data(r,e,function(e){s.call(this,e)}):n&&-1!==n.indexOf("html")||"string"==typeof e?this._append_html_data(r,E(E.parseHTML(e)).filter(function(){return 3!==this.nodeType}),function(e){s.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:r.id,xhr:i})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))},this)).fail(E.proxy(function(e){s.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:r.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(e=E.isArray(t)||E.isPlainObject(t)?JSON.parse(JSON.stringify(t)):t,"#"===r.id?this._append_json_data(r,e,function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:r.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))):"string"==typeof t?"#"===r.id?this._append_html_data(r,E(E.parseHTML(t)).filter(function(){return 3!==this.nodeType}),function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:r.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1)):s.call(this,!1):"#"===r.id?this._append_html_data(r,this._data.core.original_container_html.clone(!0),function(e){s.call(this,e)}):s.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&this._model.changed.push(e.id)},_append_html_data:function(e,t,i){(e=this.get_node(e)).children=[],e.children_d=[];var n,r,s,t=t.is("ul")?t.children():t,a=e.id,o=[],d=[],l=this._model.data,c=l[a],e=this._data.core.selected.length;for(t.each(E.proxy(function(e,t){(n=this._parse_model_from_html(E(t),a,c.parents.concat()))&&(o.push(n),d.push(n),l[n].children_d.length)&&(d=d.concat(l[n].children_d))},this)),c.children=o,c.children_d=d,r=0,s=c.parents.length;r<s;r++)l[c.parents[r]].children_d=l[c.parents[r]].children_d.concat(d);this.trigger("model",{nodes:d,parent:a}),"#"!==a?(this._node_changed(a),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==e&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(e,t,d,i){if(null!==this.element){(e=this.get_node(e)).children=[],e.children_d=[],t.d&&"string"==typeof(t=t.d)&&(t=JSON.parse(t)),E.isArray(t)||(t=[t]);var n=null,r={df:this._model.default_state,dat:t,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,l){function c(e,t,i){i=i?i.concat():[],t&&i.unshift(t);var n,r,s,a,o=e.id.toString(),d={id:o,text:e.text||"",icon:e.icon===l||e.icon,parent:t,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in f)f.hasOwnProperty(n)&&(d.state[n]=f[n]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==l&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(d.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(d.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(d.li_attr[n]=e.li_attr[n]);if(d.li_attr.id||(d.li_attr.id=o),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(d.a_attr[n]=e.a_attr[n]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),n=0,r=(_[d.id]=d).children.length;n<r;n++)s=c(_[d.children[n]],d.id,i),a=_[s],d.children_d.push(s),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d));return delete e.data,delete e.children,_[d.id].original=e,d.state.selected&&u.push(d.id),d.id}function h(e,t,i){i=i?i.concat():[],t&&i.unshift(t);for(var n,r,s,a,o,d=!1;d="j"+p+"_"+ ++g,_[d];);for(n in o={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===l||e.icon,parent:t,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},f)f.hasOwnProperty(n)&&(o.state[n]=f[n]);if(e&&e.id&&(o.id=e.id.toString()),e&&e.text&&(o.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(o.icon=e.data.jstree.icon),o.icon!==l&&null!==o.icon&&""!==o.icon||(o.icon=!0),e&&e.data&&(o.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(o.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(o.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(o.li_attr[n]=e.li_attr[n]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=d),o.li_attr.id||(o.li_attr.id=o.id),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(o.a_attr[n]=e.a_attr[n]);if(e&&e.children&&e.children.length){for(n=0,r=e.children.length;n<r;n++)s=h(e.children[n],o.id,i),a=_[s],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d));o.children_d=o.children_d.concat(o.children)}return e&&e.children&&!0===e.children&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete e.data,delete e.children,o.original=e,(_[o.id]=o).state.selected&&u.push(o.id),o.id}var t,i,n,r=(e=e.data?e.data:e).dat,s=e.par,a=[],o=[],u=[],f=e.df,p=e.t_id,g=e.t_cnt,_=e.m,d=_[s],e=e.sel;if(r.length&&r[0].id!==l&&r[0].parent!==l){for(i=0,n=r.length;i<n;i++)r[i].children||(r[i].children=[]),_[r[i].id.toString()]=r[i];for(i=0,n=r.length;i<n;i++)_[r[i].parent.toString()].children.push(r[i].id.toString()),d.children_d.push(r[i].id.toString());for(i=0,n=d.children.length;i<n;i++)t=c(_[d.children[i]],s,d.parents.concat()),o.push(t),_[t].children_d.length&&(o=o.concat(_[t].children_d));for(i=0,n=d.parents.length;i<n;i++)_[d.parents[i]].children_d=_[d.parents[i]].children_d.concat(o)}else{for(i=0,n=r.length;i<n;i++)(t=h(r[i],s,d.parents.concat()))&&(a.push(t),o.push(t),_[t].children_d.length)&&(o=o.concat(_[t].children_d));for(d.children=a,d.children_d=o,i=0,n=d.parents.length;i<n;i++)_[d.parents[i]].children_d=_[d.parents[i]].children_d.concat(o)}if(e={cnt:g,mod:_,sel:e,par:s,dpc:o,add:u},"undefined"!=typeof window&&void 0!==window.document)return e;postMessage(e)},a=function(e,t){if(null!==this.element){if(this._cnt=e.cnt,this._model.data=e.mod,t){var i,n,r=e.add,s=e.sel,a=this._data.core.selected.slice(),o=this._model.data;if(s.length!==a.length||E.vakata.array_unique(s.concat(a)).length!==s.length){for(i=0,n=s.length;i<n;i++)-1===E.inArray(s[i],r)&&-1===E.inArray(s[i],a)&&(o[s[i]].state.selected=!1);for(i=0,n=a.length;i<n;i++)-1===E.inArray(a[i],s)&&(o[a[i]].state.selected=!0)}}e.add.length&&(this._data.core.selected=this._data.core.selected.concat(e.add)),this.trigger("model",{nodes:e.dpc,parent:e.par}),"#"!==e.par?(this._node_changed(e.par),this.redraw()):this.redraw(!0),e.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),d.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,(n=new window.Worker(this._wrk)).onmessage=E.proxy(function(e){a.call(this,e.data,!0);try{n.terminate(),n=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),r.par?n.postMessage(r):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,t,d,!0])}catch(e){a.call(this,s(r),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else a.call(this,s(r),!1)}},_parse_model_from_html:function(e,t,i){i=i?[].concat(i):[],t&&i.unshift(t);var n,r,s,a,o=this._model.data,d={id:!1,text:!1,icon:!0,parent:t,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(d.state[s]=this._model.default_state[s]);if(t=E.vakata.attributes(e,!0),E.each(t,function(e,t){if(!(t=E.trim(t)).length)return!0;d.li_attr[e]=t,"id"===e&&(d.id=t.toString())}),(t=e.children("a").first()).length&&(t=E.vakata.attributes(t,!0),E.each(t,function(e,t){(t=E.trim(t)).length&&(d.a_attr[e]=t)})),(t=(e.children("a").first().length?e.children("a").first():e).clone()).children("ins, i, ul").remove(),t=t.html(),t=E("<div />").html(t),d.text=this.settings.core.force_text?t.text():t.html(),t=e.data(),d.data=t?E.extend(!0,{},t):null,d.state.opened=e.hasClass("jstree-open"),d.state.selected=e.children("a").hasClass("jstree-clicked"),d.state.disabled=e.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(s in d.data.jstree)d.data.jstree.hasOwnProperty(s)&&(d.state[s]=d.data.jstree[s]);for((t=e.children("a").children(".jstree-themeicon")).length&&(d.icon=!t.hasClass("jstree-themeicon-hidden")&&t.attr("rel")),d.state.icon!==b&&(d.icon=d.state.icon),d.icon!==b&&null!==d.icon&&""!==d.icon||(d.icon=!0),t=e.children("ul").children("li");o[a="j"+this._id+"_"+ ++this._cnt];);return d.id=d.li_attr.id?d.li_attr.id.toString():a,t.length?(t.each(E.proxy(function(e,t){n=this._parse_model_from_html(E(t),d.id,i),r=this._model.data[n],d.children.push(n),r.children_d.length&&(d.children_d=d.children_d.concat(r.children_d))},this)),d.children_d=d.children_d.concat(d.children)):e.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr.class&&(d.li_attr.class=d.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),d.a_attr.class&&(d.a_attr.class=d.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(o[d.id]=d).state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,t,i){i=i?i.concat():[],t&&i.unshift(t);var n,r,s,a,o=e.id.toString(),d=this._model.data,l=this._model.default_state,c={id:o,text:e.text||"",icon:e.icon===b||e.icon,parent:t,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in l)l.hasOwnProperty(n)&&(c.state[n]=l[n]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==b&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(c.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(c.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(c.li_attr[n]=e.li_attr[n]);if(c.li_attr.id||(c.li_attr.id=o),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(c.a_attr[n]=e.a_attr[n]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),n=0,r=(d[c.id]=c).children.length;n<r;n++)a=d[s=this._parse_model_from_flat_json(d[c.children[n]],c.id,i)],c.children_d.push(s),a.children_d.length&&(c.children_d=c.children_d.concat(a.children_d));return delete e.data,delete e.children,d[c.id].original=e,c.state.selected&&this._data.core.selected.push(c.id),c.id},_parse_model_from_json:function(e,t,i){i=i?i.concat():[],t&&i.unshift(t);for(var n,r,s,a,o,d=!1,l=this._model.data,c=this._model.default_state;l[d="j"+this._id+"_"+ ++this._cnt];);for(n in o={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===b||e.icon,parent:t,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},c)c.hasOwnProperty(n)&&(o.state[n]=c[n]);if(e&&e.id&&(o.id=e.id.toString()),e&&e.text&&(o.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(o.icon=e.data.jstree.icon),o.icon!==b&&null!==o.icon&&""!==o.icon||(o.icon=!0),e&&e.data&&(o.data=e.data,e.data.jstree))for(n in e.data.jstree)e.data.jstree.hasOwnProperty(n)&&(o.state[n]=e.data.jstree[n]);if(e&&"object"==typeof e.state)for(n in e.state)e.state.hasOwnProperty(n)&&(o.state[n]=e.state[n]);if(e&&"object"==typeof e.li_attr)for(n in e.li_attr)e.li_attr.hasOwnProperty(n)&&(o.li_attr[n]=e.li_attr[n]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=d),o.li_attr.id||(o.li_attr.id=o.id),e&&"object"==typeof e.a_attr)for(n in e.a_attr)e.a_attr.hasOwnProperty(n)&&(o.a_attr[n]=e.a_attr[n]);if(e&&e.children&&e.children.length){for(n=0,r=e.children.length;n<r;n++)a=l[s=this._parse_model_from_json(e.children[n],o.id,i)],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d));o.children_d=o.children_d.concat(o.children)}return e&&e.children&&!0===e.children&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete e.data,delete e.children,o.original=e,(l[o.id]=o).state.selected&&this._data.core.selected.push(o.id),o.id},_redraw:function(){for(var e,t=(this._model.force_full_redraw?this._model.data["#"].children:this._model.changed).concat([]),i=_.createElement("UL"),n=this._data.core.focused,r=0,s=t.length;r<s;r++)(e=this.redraw_node(t[r],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&i.appendChild(e);this._model.force_full_redraw&&(i.className=this.get_container_ul()[0].className,i.setAttribute("role","group"),this.element.empty().append(i)),null!==n&&((e=this.get_node(n,!0))&&e.length&&e.children(".jstree-anchor")[0]!==_.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:t})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var t,i=this.get_node(e),n=!1,r=!1,s=_;if(!i)return!1;if("#"===i.id)return this.redraw(!0);if(!(e=this.get_node(e,!0))||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],i.children.length&&i.state.loaded){for((r=s.createElement("UL")).setAttribute("role","group"),r.className="jstree-children",n=0,t=i.children.length;n<t;n++)r.appendChild(this.redraw_node(i.children[n],!0,!0));e.appendChild(r)}},redraw_node:function(e,t,i,n){var r=this.get_node(e),s=!1,a=!1,o=!1,d=!1,l=!1,c=!1,h="",u=_,f=this._model.data,p=!1,g=null;if(!r)return!1;if("#"===r.id)return this.redraw(!0);if(t=t||0===r.children.length,e=_.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(r.id[0])?"\\3"+r.id[0]+" "+r.id.substr(1).replace(E.jstree.idregex,"\\$&"):r.id.replace(E.jstree.idregex,"\\$&"))):_.getElementById(r.id))e=E(e),i||((s=e.parent().parent()[0])===this.element[0]&&(s=null),a=e.index()),(t=t||!r.children.length||e.children(".jstree-children").length?t:!0)||(o=e.children(".jstree-children")[0]),p=e.children(".jstree-anchor")[0]===_.activeElement,e.remove();else if(t=!0,!i){if(!(null===(s="#"!==r.parent?E("#"+r.parent.replace(E.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&f[r.parent].state.opened))return!1;a=E.inArray(r.id,(null===s?f["#"]:f[r.parent]).children)}for(d in e=m.cloneNode(!0),h="jstree-node ",r.li_attr)r.li_attr.hasOwnProperty(d)&&"id"!==d&&("class"!==d?e.setAttribute(d,r.li_attr[d]):h+=r.li_attr[d]);for(l in r.a_attr.id||(r.a_attr.id=r.id+"_anchor"),e.setAttribute("aria-selected",!!r.state.selected),e.setAttribute("aria-level",r.parents.length),e.setAttribute("aria-labelledby",r.a_attr.id),r.state.disabled&&e.setAttribute("aria-disabled",!0),r.state.loaded&&!r.children.length?h+=" jstree-leaf":(h+=r.state.opened&&r.state.loaded?" jstree-open":" jstree-closed",e.setAttribute("aria-expanded",r.state.opened&&r.state.loaded)),null!==r.parent&&f[r.parent].children[f[r.parent].children.length-1]===r.id&&(h+=" jstree-last"),e.id=r.id,e.className=h,h=(r.state.selected?" jstree-clicked":"")+(r.state.disabled?" jstree-disabled":""),r.a_attr)!r.a_attr.hasOwnProperty(l)||"href"===l&&"#"===r.a_attr[l]||("class"!==l?e.childNodes[1].setAttribute(l,r.a_attr[l]):h+=" "+r.a_attr[l]);if(h.length&&(e.childNodes[1].className="jstree-anchor "+h),(r.icon&&!0!==r.icon||!1===r.icon)&&(!1===r.icon?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===r.icon.indexOf("/")&&-1===r.icon.indexOf(".")?e.childNodes[1].childNodes[0].className+=" "+r.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage="url("+r.icon+")",e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(u.createTextNode(r.text)):e.childNodes[1].innerHTML+=r.text,t&&r.children.length&&(r.state.opened||n)&&r.state.loaded){for((c=u.createElement("UL")).setAttribute("role","group"),c.className="jstree-children",d=0,l=r.children.length;d<l;d++)c.appendChild(this.redraw_node(r.children[d],t,!0));e.appendChild(c)}if(o&&e.appendChild(o),!i){for(d=0,l=(s=s||this.element[0]).childNodes.length;d<l;d++)if(s.childNodes[d]&&s.childNodes[d].className&&-1!==s.childNodes[d].className.indexOf("jstree-children")){g=s.childNodes[d];break}g||((g=u.createElement("UL")).setAttribute("role","group"),g.className="jstree-children",s.appendChild(g)),a<(s=g).childNodes.length?s.insertBefore(e,s.childNodes[a]):s.appendChild(e),p&&(f=this.element[0].scrollTop,n=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=f,this.element[0].scrollLeft=n)}return r.state.opened&&!r.state.loaded&&(r.state.opened=!1,setTimeout(E.proxy(function(){this.open_node(r.id,!1,0)},this),0)),e},open_node:function(e,i,n){var t,r,s,a;if(E.isArray(e)){for(t=0,r=(e=e.slice()).length;t<r;t++)this.open_node(e[t],i,n);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;if(n=n===b?this.settings.core.animation:n,!this.is_closed(e))return i&&i.call(this,e,!1),!1;if(this.is_loaded(e))s=this.get_node(e,!0),a=this,s.length&&(n&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(e),n?(this.trigger("before_open",{node:e}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(n,function(){this.style.display="",a.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),e.state.opened=!0,i&&i.call(this,e,!0),s.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),n&&s.length||this.trigger("after_open",{node:e});else{if(this.is_loading(e))return setTimeout(E.proxy(function(){this.open_node(e,i,n)},this),500);this.load_node(e,function(e,t){return t?this.open_node(e,i,n):!!i&&i.call(this,e,!1)})}},_open_to:function(e){if(!(e=this.get_node(e))||"#"===e.id)return!1;for(var t=e.parents,i=0,n=t.length;i<n;i+=1)"#"!==i&&this.open_node(t[i],!1,0);return E("#"+e.id.replace(E.jstree.idregex,"\\$&"),this.element)},close_node:function(e,t){var i,n,r,s;if(E.isArray(e)){for(i=0,n=(e=e.slice()).length;i<n;i++)this.close_node(e[i],t);return!0}return!(!(e=this.get_node(e))||"#"===e.id||this.is_closed(e))&&(t=t===b?this.settings.core.animation:t,(s=(r=this).get_node(e,!0)).length&&(t?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(t,function(){this.style.display="",s.children(".jstree-children").remove(),r.trigger("after_close",{node:e})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove())),e.state.opened=!1,this.trigger("close_node",{node:e}),void(t&&s.length||this.trigger("after_close",{node:e})))},toggle_node:function(e){var t,i;if(E.isArray(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.toggle_node(e[t]);return!0}return this.is_closed(e)?this.open_node(e):this.is_open(e)?this.close_node(e):void 0},open_all:function(e,i,n){if(!(e=this.get_node(e=e||"#")))return!1;var t,r,s,a="#"===e.id?this.get_container_ul():this.get_node(e,!0);if(!a.length){for(t=0,r=e.children_d.length;t<r;t++)this.is_closed(this._model.data[e.children_d[t]])&&(this._model.data[e.children_d[t]].state.opened=!0);return this.trigger("open_all",{node:e})}n=n||a,(a=(s=this).is_closed(e)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each(function(){s.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,i,n)},i||0)}),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(e,t){if(!(e=this.get_node(e=e||"#")))return!1;var i,n,r="#"===e.id?this.get_container_ul():this.get_node(e,!0),s=this;for(r.length&&(r=this.is_open(e)?r.find(".jstree-open").addBack():r.find(".jstree-open"),E(r.get().reverse()).each(function(){s.close_node(this,t||0)})),i=0,n=e.children_d.length;i<n;i++)this._model.data[e.children_d[i]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(e){var t,i;if(E.isArray(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.enable_node(e[t]);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var t,i;if(E.isArray(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.disable_node(e[t]);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},activate_node:function(e,t){if(this.is_disabled(e))return!1;if(this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==b?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&(!t.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(t.shiftKey){for(var i=this.get_node(e).id,n=this._data.core.last_clicked.id,r=this.get_node(this._data.core.last_clicked.parent).children,s=!1,a=0,o=r.length;a<o;a+=1)r[a]===i&&(s=!s),r[a]===n&&(s=!s),this.is_disabled(r[a])||!s&&r[a]!==i&&r[a]!==n?this.deselect_node(r[a],!0,t):this.select_node(r[a],!0,!1,t);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:t})}else this.is_selected(e)?this.deselect_node(e,!1,t):this.select_node(e,!1,!1,t);else!this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,t):(this.deselect_all(!0),this.select_node(e,!1,!1,t),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e)})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){i.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,t,i,n){var r,s,a;if(E.isArray(e)){for(s=0,a=(e=e.slice()).length;s<a;s++)this.select_node(e[s],t,i,n);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;r=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),(r=i?r:this._open_to(e))&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:n}),t)||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:n})},deselect_node:function(e,t,i){var n,r,s;if(E.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.deselect_node(e[n],t,i);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;s=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=E.vakata.array_remove_item(this._data.core.selected,e.id),s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:i}),t||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:i}))},select_all:function(e){var t,i,n=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data["#"].children_d.concat(),t=0,i=this._data.core.selected.length;t<i;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:n})},deselect_all:function(e){for(var t=this._data.core.selected.concat([]),i=0,n=this._data.core.selected.length;i<n;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:t}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:t})},is_selected:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.state.selected},get_selected:function(e){return e?E.map(this._data.core.selected,E.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(e){for(var t,i,n=this.get_selected(!0),r={},s=0,a=n.length;s<a;s++)r[n[s].id]=n[s];for(s=0,a=n.length;s<a;s++)for(t=0,i=n[s].children_d.length;t<i;t++)r[n[s].children_d[t]]&&delete r[n[s].children_d[t]];for(s in n=[],r)r.hasOwnProperty(s)&&n.push(s);return e?E.map(n,E.proxy(function(e){return this.get_node(e)},this)):n},get_bottom_selected:function(e){for(var t=this.get_selected(!0),i=[],n=0,r=t.length;n<r;n++)t[n].children.length||i.push(t[n].id);return e?E.map(i,E.proxy(function(e){return this.get_node(e)},this)):i},get_state:function(){var e,t={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&"#"!==e&&(this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected)&&t.core.selected.push(e);return t},set_state:function(t,i){if(t){if(t.core){var n,e;if(t.core.open)return E.isArray(t.core.open)&&t.core.open.length?this._load_nodes(t.core.open,function(e){this.open_node(e,!1,0),delete t.core.open,this.set_state(t,i)},!0):(delete t.core.open,this.set_state(t,i)),!1;if(t.core.scroll)return t.core.scroll&&t.core.scroll.left!==b&&this.element.scrollLeft(t.core.scroll.left),t.core.scroll&&t.core.scroll.top!==b&&this.element.scrollTop(t.core.scroll.top),delete t.core.scroll,this.set_state(t,i),!1;if(t.core.selected)return(n=this).deselect_all(),E.each(t.core.selected,function(e,t){n.select_node(t,!1,!0)}),delete t.core.selected,this.set_state(t,i),!1;for(e in t)t.hasOwnProperty(e)&&"core"!==e&&-1===E.inArray(e,this.settings.plugins)&&delete t[e];if(E.isEmptyObject(t.core))return delete t.core,this.set_state(t,i),!1}return E.isEmptyObject(t)?(t=null,i&&i.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(e,t){this._data.core.state=!0===t?{}:this.get_state(),t&&E.isFunction(t)&&(this._data.core.state=t.call(this,this._data.core.state)),this._cnt=0,this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var i=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node("#",function(e,t){t&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(E.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||"#"===t.id)return!1;var i=[],e=[];this._data.core.selected.concat([]);e.push(t.id),!0===t.state.opened&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id)}),this._load_nodes(e,E.proxy(function(e){this.open_node(i,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(e,t){if(!(e=this.get_node(e))||"#"===e.id)return!1;var i,n,r=this._model.data;for(t=t.toString(),r[e.parent].children[E.inArray(e.id,r[e.parent].children)]=t,i=0,n=e.parents.length;i<n;i++)r[e.parents[i]].children_d[E.inArray(e.id,r[e.parents[i]].children_d)]=t;for(i=0,n=e.children.length;i<n;i++)r[e.children[i]].parent=t;for(i=0,n=e.children_d.length;i<n;i++)r[e.children_d[i]].parents[E.inArray(e.id,r[e.children_d[i]].parents)]=t;return-1!==(i=E.inArray(e.id,this._data.core.selected))&&(this._data.core.selected[i]=t),(i=this.get_node(e.id,!0))&&(i.attr("id",t).children(".jstree-anchor").attr("id",t+"_anchor").end().attr("aria-labelledby",t+"_anchor"),this.element.attr("aria-activedescendant")===e.id)&&this.element.attr("aria-activedescendant",t),delete r[e.id],e.id=t,r[e.li_attr.id=t]=e,!0},get_text:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.text},set_text:function(e,t){var i,n;if(E.isArray(e))for(i=0,n=(e=e.slice()).length;i<n;i++)this.set_text(e[i],t);else{if(!(e=this.get_node(e))||"#"===e.id)return!1;e.text=t,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:t})}return!0},get_json:function(e,t,i){if(!(e=this.get_node(e||"#")))return!1;t&&t.flat&&!i&&(i=[]);var n,r,s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:E.extend(!0,{},e.li_attr),a_attr:E.extend(!0,{},e.a_attr),state:{},data:(!t||!t.no_data)&&E.extend(!0,{},e.data)};if(t&&t.flat?s.parent=e.parent:s.children=[],!t||!t.no_state)for(n in e.state)e.state.hasOwnProperty(n)&&(s.state[n]=e.state[n]);if(t&&t.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr)&&s.a_attr.id&&delete s.a_attr.id,t&&t.flat&&"#"!==e.id&&i.push(s),!t||!t.no_children)for(n=0,r=e.children.length;n<r;n++)t&&t.flat?this.get_json(e.children[n],t,i):s.children.push(this.get_json(e.children[n],t));return t&&t.flat?i:"#"===e.id?s.children:s},create_node:function(e,t,i,n,r){if(null===e&&(e="#"),!(e=this.get_node(e)))return!1;if(!(i=i===b?"last":i).toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,i,n,!0)});var s,a,o,d;switch((t="string"==typeof(t=t||{text:this.get_string("New node")})?{text:t}:t).text===b&&(t.text=this.get_string("New node")),i="#"===e.id&&"after"===(i="before"===i?"first":i)?"last":i){case"before":s=this.get_node(e.parent),i=E.inArray(e.id,s.children),e=s;break;case"after":s=this.get_node(e.parent),i=E.inArray(e.id,s.children)+1,e=s;break;case"inside":case"first":i=0;break;case"last":i=e.children.length;break;default:i=i||0}if(i>e.children.length&&(i=e.children.length),t.id||(t.id=!0),!this.check("create_node",t,e,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===t.id&&delete t.id,!(t=this._parse_model_from_json(t,e.id,e.parents.concat())))return!1;for(s=this.get_node(t),(a=[]).push(t),a=a.concat(s.children_d),this.trigger("model",{nodes:a,parent:e.id}),e.children_d=e.children_d.concat(a),o=0,d=e.parents.length;o<d;o++)this._model.data[e.parents[o]].children_d=this._model.data[e.parents[o]].children_d.concat(a);for(t=s,s=[],o=0,d=e.children.length;o<d;o++)s[i<=o?o+1:o]=e.children[o];return s[i]=t.id,e.children=s,this.redraw_node(e,!0),n&&n.call(this,this.get_node(t)),this.trigger("create_node",{node:this.get_node(t),parent:e.id,position:i}),t.id},rename_node:function(e,t){var i,n,r;if(E.isArray(e))for(i=0,n=(e=e.slice()).length;i<n;i++)this.rename_node(e[i],t);else{if(!(e=this.get_node(e))||"#"===e.id)return!1;if(r=e.text,!this.check("rename_node",e,this.get_parent(e),t))return this.settings.core.error.call(this,this._data.core.last_error),!1;this.set_text(e,t),this.trigger("rename_node",{node:e,text:t,old:r})}return!0},delete_node:function(e){var t,i,n,r,s,a,o,d,l,c;if(E.isArray(e))for(t=0,i=(e=e.slice()).length;t<i;t++)this.delete_node(e[t]);else{if(!(e=this.get_node(e))||"#"===e.id)return!1;if(n=this.get_node(e.parent),r=E.inArray(e.id,n.children),c=!1,!this.check("delete_node",e,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==r&&(n.children=E.vakata.array_remove(n.children,r)),(s=e.children_d.concat([])).push(e.id),d=0,l=s.length;d<l;d++){for(a=0,o=e.parents.length;a<o;a++)-1!==(r=E.inArray(s[d],this._model.data[e.parents[a]].children_d))&&(this._model.data[e.parents[a]].children_d=E.vakata.array_remove(this._model.data[e.parents[a]].children_d,r));this._model.data[s[d]].state.selected&&(c=!0,-1!==(r=E.inArray(s[d],this._data.core.selected)))&&(this._data.core.selected=E.vakata.array_remove(this._data.core.selected,r))}for(this.trigger("delete_node",{node:e,parent:n.id}),c&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:n.id}),d=0,l=s.length;d<l;d++)delete this._model.data[s[d]];this.redraw_node(n,!0)}return!0},check:function(e,t,i,n,r){t=t&&t.id?t:this.get_node(t),i=i&&i.id?i:this.get_node(i);var s=e.match(/^move_node|copy_node|create_node$/i)?i:t,a=this.settings.core.check_callback;return"move_node"!==e&&"copy_node"!==e||r&&r.is_multi||t.id!==i.id&&E.inArray(t.id,i.children)!==n&&-1===E.inArray(i.id,t.children_d)?(s=s&&s.data?s.data:s)&&s.functions&&(!1===s.functions[e]||!0===s.functions[e])?(!1===s.functions[e]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})}),s.functions[e]):!(!1===a||E.isFunction(a)&&!1===a.call(this,e,t,i,n,r)||a&&!1===a[e])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})}):!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})})},last_error:function(){return this._data.core.last_error},move_node:function(e,t,i,n,r,s,a){var o,d,l,c,h,u,f,p,g,_,m,v,y,x;if(t=this.get_node(t),i=i===b?0:i,!t)return!1;if(!i.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(t))return this.load_node(t,function(){this.move_node(e,t,i,n,!0,!1,a)});if(E.isArray(e)){if(1!==e.length){for(o=0,d=e.length;o<d;o++)(g=this.move_node(e[o],t,i,n,r,!1,a))&&(t=g,i="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||"#"===e.id)return!1;if(l=(e.parent||"#").toString(),h=i.toString().match(/^(before|after)$/)&&"#"!==t.id?this.get_node(t.parent):t,f=!(u=a||(this._model.data[e.id]?this:E.jstree.reference(e.id)))||!u._id||this._id!==u._id,c=u&&u._id&&l&&u._model.data[l]&&u._model.data[l].children?E.inArray(e.id,u._model.data[l].children):-1,u&&u._id&&(e=u._model.data[e.id]),f)return!!(g=this.copy_node(e,t,i,n,r,!1,a))&&(u&&u.delete_node(e),g);switch(i="#"===t.id&&"after"===(i="before"===i?"first":i)?"last":i){case"before":i=E.inArray(t.id,h.children);break;case"after":i=E.inArray(t.id,h.children)+1;break;case"inside":case"first":i=0;break;case"last":i=h.children.length;break;default:i=i||0}if(i>h.children.length&&(i=h.children.length),!this.check("move_node",e,h,i,{core:!0,origin:a,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===h.id){for(p=h.children.concat(),-1!==(g=E.inArray(e.id,p))&&(p=E.vakata.array_remove(p,g),g<i)&&i--,g=[],_=0,m=p.length;_<m;_++)g[i<=_?_+1:_]=p[_];g[i]=e.id,h.children=g,this._node_changed(h.id),this.redraw("#"===h.id)}else{for((g=e.children_d.concat()).push(e.id),_=0,m=e.parents.length;_<m;_++){for(p=[],v=0,y=(x=u._model.data[e.parents[_]].children_d).length;v<y;v++)-1===E.inArray(x[v],g)&&p.push(x[v]);u._model.data[e.parents[_]].children_d=p}for(u._model.data[l].children=E.vakata.array_remove_item(u._model.data[l].children,e.id),_=0,m=h.parents.length;_<m;_++)this._model.data[h.parents[_]].children_d=this._model.data[h.parents[_]].children_d.concat(g);for(p=[],_=0,m=h.children.length;_<m;_++)p[i<=_?_+1:_]=h.children[_];for(p[i]=e.id,h.children=p,h.children_d.push(e.id),h.children_d=h.children_d.concat(e.children_d),e.parent=h.id,(g=h.parents.concat()).unshift(h.id),x=e.parents.length,g=(e.parents=g).concat(),_=0,m=e.children_d.length;_<m;_++)this._model.data[e.children_d[_]].parents=this._model.data[e.children_d[_]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[e.children_d[_]].parents,g);"#"!==l&&"#"!==h.id||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(l),this._node_changed(h.id)),s||this.redraw()}return n&&n.call(this,e,h,i),this.trigger("move_node",{node:e,parent:h.id,position:i,old_parent:l,old_position:c,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id,old_instance:u,new_instance:this}),e.id},copy_node:function(e,t,i,n,r,s,a){var o,d,l,c,h,u,f,p,g,_;if(t=this.get_node(t),i=i===b?0:i,!t)return!1;if(!i.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(t))return this.load_node(t,function(){this.copy_node(e,t,i,n,!0,!1,a)});if(E.isArray(e)){if(1!==e.length){for(o=0,d=e.length;o<d;o++)(c=this.copy_node(e[o],t,i,n,r,!0,a))&&(t=c,i="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||"#"===e.id)return!1;switch(p=(e.parent||"#").toString(),g=i.toString().match(/^(before|after)$/)&&"#"!==t.id?this.get_node(t.parent):t,(_=a||(this._model.data[e.id]?this:E.jstree.reference(e.id)))&&_._id&&(this._id,_._id),_&&_._id&&(e=_._model.data[e.id]),i="#"===t.id&&"after"===(i="before"===i?"first":i)?"last":i){case"before":i=E.inArray(t.id,g.children);break;case"after":i=E.inArray(t.id,g.children)+1;break;case"inside":case"first":i=0;break;case"last":i=g.children.length;break;default:i=i||0}if(i>g.children.length&&(i=g.children.length),!this.check("copy_node",e,g,i,{core:!0,origin:a,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(f=_?_.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e))return!1;if(!0===f.id&&delete f.id,!(f=this._parse_model_from_json(f,g.id,g.parents.concat())))return!1;for(c=this.get_node(f),e&&e.state&&!1===e.state.loaded&&(c.state.loaded=!1),(l=[]).push(f),l=l.concat(c.children_d),this.trigger("model",{nodes:l,parent:g.id}),h=0,u=g.parents.length;h<u;h++)this._model.data[g.parents[h]].children_d=this._model.data[g.parents[h]].children_d.concat(l);for(l=[],h=0,u=g.children.length;h<u;h++)l[i<=h?h+1:h]=g.children[h];return l[i]=c.id,g.children=l,g.children_d.push(c.id),g.children_d=g.children_d.concat(c.children_d),"#"===g.id&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(g.id),s||this.redraw("#"===g.id),n&&n.call(this,c,g,i),this.trigger("copy_node",{node:c,original:e,parent:g.id,position:i,old_parent:p,old_position:_&&_._id&&p&&_._model.data[p]&&_._model.data[p].children?E.inArray(e.id,_._model.data[p].children):-1,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id,old_instance:_,new_instance:this}),c.id},cut:function(e){if(e=e||this._data.core.selected.concat(),!(e=E.isArray(e)?e:[e]).length)return!1;for(var t,i=[],n=0,r=e.length;n<r;n++)(t=this.get_node(e[n]))&&t.id&&"#"!==t.id&&i.push(t);if(!i.length)return!1;s=i,a="move_node",(o=this).trigger("cut",{node:e})},copy:function(e){if(e=e||this._data.core.selected.concat(),!(e=E.isArray(e)?e:[e]).length)return!1;for(var t,i=[],n=0,r=e.length;n<r;n++)(t=this.get_node(e[n]))&&t.id&&"#"!==t.id&&i.push(t);if(!i.length)return!1;s=i,a="copy_node",(o=this).trigger("copy",{node:e})},get_buffer:function(){return{mode:a,node:s,inst:o}},can_paste:function(){return!1!==a&&!1!==s},paste:function(e,t){if(!((e=this.get_node(e))&&a&&a.match(/^(copy_node|move_node)$/)&&s))return!1;this[a](s,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:s,mode:a}),o=a=s=!1},clear_buffer:function(){o=a=s=!1,this.trigger("clear_buffer")},edit:function(i,e,n){var t,r,s,a,o,d,l,c;return!!(i=this.get_node(i))&&(!1===this.settings.core.check_callback?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(c=i,e="string"==typeof e?e:i.text,this.set_text(i,""),i=this._open_to(i),c.text=e,t=this._data.core.rtl,r=this.element.width(),s=i.children(".jstree-anchor"),a=E("<span>"),o=e,d=E("<div />",{css:{position:"absolute",top:"-200px",left:t?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),l=E("<input />",{value:o,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:E.proxy(function(){var e=a.children(".jstree-rename-input").val(),t=this.settings.core.force_text;""===e&&(e=o),d.remove(),a.replaceWith(s),a.remove(),o=t?o:E("<div></div>").append(E.parseHTML(o)).html(),this.set_text(i,o),(t=!!this.rename_node(i,t?E("<div></div>").text(e).text():E("<div></div>").append(E.parseHTML(e)).html()))||this.set_text(i,o),n&&n.call(this,c,t)},this),keydown:function(e){var t=e.which;27===t&&(this.value=o),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){l.width(Math.min(d.text("pW"+this.value).width(),r))},keypress:function(e){if(13===e.which)return!1}}),e={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},a.attr("class",s.attr("class")).append(s.contents().clone()).append(l),s.replaceWith(a),d.css(e),void l.css(e).width(Math.min(d.text("pW"+l[0].value).width(),r))[0].select()))},set_theme:function(e,t){if(!e)return!1;(t=!0===t?(this.settings.core.themes.dir||E.jstree.path+"/themes")+"/"+e+"/style.css":t)&&-1===E.inArray(t,i)&&(E("head").append('<link rel="stylesheet" href="'+t+'" type="text/css" />'),i.push(t)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),(this._data.core.themes.variant=e)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(e,t){var i,n,r,s;if(E.isArray(e))for(i=0,n=(e=e.slice()).length;i<n;i++)this.set_icon(e[i],t);else{if(!(e=this.get_node(e))||"#"===e.id)return!1;s=e.icon,e.icon=!0===t||null===t||t===b||""===t||t,r=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===t?this.hide_icon(e):(!0===t||null===t||t===b||""===t?r.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"):(-1===t.indexOf("/")&&-1===t.indexOf(".")?(r.removeClass(s).css("background",""),r.addClass(t+" jstree-themeicon-custom")):(r.removeClass(s).css("background",""),r.addClass("jstree-themeicon-custom").css("background","url('"+t+"') center center no-repeat"))).attr("rel",t),!1===s&&this.show_icon(e))}return!0},get_icon:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.icon},hide_icon:function(e){var t,i;if(E.isArray(e))for(t=0,i=(e=e.slice()).length;t<i;t++)this.hide_icon(e[t]);else{if(!(e=this.get_node(e))||"#"===e)return!1;e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden")}return!0},show_icon:function(e){var t,i,n;if(E.isArray(e))for(t=0,i=(e=e.slice()).length;t<i;t++)this.show_icon(e[t]);else{if(!(e=this.get_node(e))||"#"===e)return!1;n=this.get_node(e,!0),e.icon=!n.length||n.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),e.icon||(e.icon=!0),n.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden")}return!0}},E.vakata={},E.vakata.attributes=function(e,i){e=E(e)[0];var n=i?{}:[];return e&&e.attributes&&E.each(e.attributes,function(e,t){-1===E.inArray(t.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==t.value&&""!==E.trim(t.value)&&(i?n[t.name]=t.value:n.push(t.name))}),n},E.vakata.array_unique=function(e){for(var t=[],i={},n=0,r=e.length;n<r;n++)i[e[n]]===b&&(t.push(e[n]),i[e[n]]=!0);return t},E.vakata.array_remove=function(e,t,i){i=e.slice((i||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e},E.vakata.array_remove_item=function(e,t){t=E.inArray(t,e);return-1!==t?E.vakata.array_remove(e,t):e},_.createElement("I")),g=(l.className="jstree-icon jstree-checkbox",l.setAttribute("role","presentation"),E.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},E.jstree.plugins.checkbox=function(e,d){this.bind=function(){d.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",E.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",E.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",E.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(E.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",E.proxy(function(e,t){for(var i=this._model.data,n=(i[t.parent],t.nodes),r=0,s=n.length;r<s;r++)i[n[r]].state.checked=i[n[r]].state.checked||i[n[r]].original&&i[n[r]].original.state&&i[n[r]].original.state.checked,i[n[r]].state.checked&&this._data.checkbox.selected.push(n[r])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",E.proxy(function(e,t){var i,n,r,s,a,o,d=this._model.data,l=d[t.parent],c=t.nodes,h=[],t=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection;if(-1!==t.indexOf("down"))if(l.state[u?"selected":"checked"]){for(n=0,r=c.length;n<r;n++)d[c[n]].state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected=this._data[u?"core":"checkbox"].selected.concat(c)}else for(n=0,r=c.length;n<r;n++)if(d[c[n]].state[u?"selected":"checked"]){for(s=0,a=d[c[n]].children_d.length;s<a;s++)d[d[c[n]].children_d[s]].state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected=this._data[u?"core":"checkbox"].selected.concat(d[c[n]].children_d)}if(-1!==t.indexOf("up")){for(n=0,r=l.children_d.length;n<r;n++)d[l.children_d[n]].children.length||h.push(d[l.children_d[n]].parent);for(s=0,a=(h=E.vakata.array_unique(h)).length;s<a;s++)for(l=d[h[s]];l&&"#"!==l.id;){for(n=i=0,r=l.children.length;n<r;n++)i+=d[l.children[n]].state[u?"selected":"checked"];if(i!==r)break;l.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(l.id),(o=this.get_node(l,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}}this._data[u?"core":"checkbox"].selected=E.vakata.array_unique(this._data[u?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",E.proxy(function(e,t){var i,n,r,s,a=t.node,o=this._model.data,d=this.get_node(a.parent),t=this.get_node(a,!0),l=this.settings.checkbox.cascade,c=this.settings.checkbox.tie_selection;if(-1!==l.indexOf("down"))for(this._data[c?"core":"checkbox"].selected=E.vakata.array_unique(this._data[c?"core":"checkbox"].selected.concat(a.children_d)),i=0,n=a.children_d.length;i<n;i++)(s=o[a.children_d[i]]).state[c?"selected":"checked"]=!0,s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1);if(-1!==l.indexOf("up"))for(;d&&"#"!==d.id;){for(i=r=0,n=d.children.length;i<n;i++)r+=o[d.children[i]].state[c?"selected":"checked"];if(r!==n)break;d.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(d.id),(s=this.get_node(d,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}-1!==l.indexOf("down")&&t.length&&t.find(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",E.proxy(function(e,t){for(var i,n=this.get_node("#"),r=this._model.data,s=0,a=n.children_d.length;s<a;s++)(i=r[n.children_d[s]])&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",E.proxy(function(e,t){var i,n,r,s=t.node,t=this.get_node(s,!0),a=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection;if(s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1),-1!==a.indexOf("down"))for(i=0,n=s.children_d.length;i<n;i++)(r=this._model.data[s.children_d[i]]).state[o?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1);if(-1!==a.indexOf("up"))for(i=0,n=s.parents.length;i<n;i++)(r=this._model.data[s.parents[i]]).state[o?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),(r=this.get_node(s.parents[i],!0))&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked");for(r=[],i=0,n=this._data[o?"core":"checkbox"].selected.length;i<n;i++)-1!==a.indexOf("down")&&-1!==E.inArray(this._data[o?"core":"checkbox"].selected[i],s.children_d)||-1!==a.indexOf("up")&&-1!==E.inArray(this._data[o?"core":"checkbox"].selected[i],s.parents)||r.push(this._data[o?"core":"checkbox"].selected[i]);this._data[o?"core":"checkbox"].selected=E.vakata.array_unique(r),-1!==a.indexOf("down")&&t.length&&t.find(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",E.proxy(function(e,t){for(var i,n,r,s,a=this.get_node(t.parent),o=this._model.data,d=this.settings.checkbox.tie_selection;a&&"#"!==a.id;){for(i=r=0,n=a.children.length;i<n;i++)r+=o[a.children[i]].state[d?"selected":"checked"];if(r!==n)break;a.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(a.id),(s=this.get_node(a,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}},this)).on("move_node.jstree",E.proxy(function(e,t){var i,n,r,s,a,o=t.is_multi,d=t.old_parent,t=this.get_node(t.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;if(!o)for(i=this.get_node(d);i&&"#"!==i.id;){for(r=n=0,s=i.children.length;r<s;r++)n+=l[i.children[r]].state[c?"selected":"checked"];if(n!==s)break;i.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(i.id),(a=this.get_node(i,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=t;i&&"#"!==i.id;){for(r=n=0,s=i.children.length;r<s;r++)n+=l[i.children[r]].state[c?"selected":"checked"];if(n===s)i.state[c?"selected":"checked"]||(i.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(i.id),(a=this.get_node(i,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"));else{if(!i.state[c?"selected":"checked"])break;i.state[c?"selected":"checked"]=!1,this._data[c?"core":"checkbox"].selected=E.vakata.array_remove_item(this._data[c?"core":"checkbox"].selected,i.id),(a=this.get_node(i,!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this._undetermined=function(){if(null!==this.element){for(var i,n,r={},s=this._model.data,e=this.settings.checkbox.tie_selection,t=this._data[e?"core":"checkbox"].selected,a=[],o=this,d=0,l=t.length;d<l;d++)if(s[t[d]]&&s[t[d]].parents)for(i=0,n=s[t[d]].parents.length;i<n;i++)r[s[t[d]].parents[i]]===b&&"#"!==s[t[d]].parents[i]&&(r[s[t[d]].parents[i]]=!0,a.push(s[t[d]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e,t=o.get_node(this);if(t.state.loaded){for(d=0,l=t.children_d.length;d<l;d++)if(!(e=s[t.children_d[d]]).state.loaded&&e.original&&e.original.state&&e.original.state.undetermined&&!0===e.original.state.undetermined)for(r[e.id]===b&&"#"!==e.id&&(r[e.id]=!0,a.push(e.id)),i=0,n=e.parents.length;i<n;i++)r[e.parents[i]]===b&&"#"!==e.parents[i]&&(r[e.parents[i]]=!0,a.push(e.parents[i]))}else if(t.original&&t.original.state&&t.original.state.undetermined&&!0===t.original.state.undetermined)for(r[t.id]===b&&"#"!==t.id&&(r[t.id]=!0,a.push(t.id)),i=0,n=t.parents.length;i<n;i++)r[t.parents[i]]===b&&"#"!==t.parents[i]&&(r[t.parents[i]]=!0,a.push(t.parents[i]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),d=0,l=a.length;d<l;d++)s[a[d]].state[e?"selected":"checked"]||(t=this.get_node(a[d],!0))&&t.length&&t.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,i,n){if(e=d.redraw_node.apply(this,arguments)){for(var r=null,s=null,a=0,o=e.childNodes.length;a<o;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){r=e.childNodes[a];break}r&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(r.className+=" jstree-checked"),s=l.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(s.className+=" jstree-checkbox-disabled"),r.insertBefore(s,r.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(E.proxy(this._undetermined,this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(e){e=this.get_node(e);var t,i,n=this.settings.checkbox.cascade,r=this.settings.checkbox.tie_selection,s=this._data[r?"core":"checkbox"].selected,a=this._model.data;if(e&&!0!==e.state[r?"selected":"checked"]&&-1!==n.indexOf("undetermined")&&(-1!==n.indexOf("down")||-1!==n.indexOf("up"))){if(!e.state.loaded&&!0===e.original.state.undetermined)return!0;for(t=0,i=e.children_d.length;t<i;t++)if(-1!==E.inArray(e.children_d[t],s)||!a[e.children_d[t]].state.loaded&&a[e.children_d[t]].original.state.undetermined)return!0}return!1},this.disable_checkbox=function(e){var t,i,n;if(E.isArray(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.disable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;n=this.get_node(e,!0),e.state.checkbox_disabled||(e.state.checkbox_disabled=!0,n&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:e}))},this.enable_checkbox=function(e){var t,i,n;if(E.isArray(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.enable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;n=this.get_node(e,!0),e.state.checkbox_disabled&&(e.state.checkbox_disabled=!1,n&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:e}))},this.activate_node=function(e,t){return!E(t.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||E(t.target).hasClass("jstree-checkbox"))&&(t.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!E(t.target).hasClass("jstree-checkbox")?d.activate_node.call(this,e,t):!this.is_disabled(e)&&(this.is_checked(e)?this.uncheck_node(e,t):this.check_node(e,t),void this.trigger("activate_node",{node:this.get_node(e)})))},this.check_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.select_node(e,!1,!0,t);var i,n,r;if(E.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.check_node(e[n],t);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;i=this.get_node(e,!0),e.state.checked||(e.state.checked=!0,this._data.checkbox.selected.push(e.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.uncheck_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.deselect_node(e,!1,t);var i,n,r;if(E.isArray(e)){for(i=0,n=(e=e.slice()).length;i<n;i++)this.uncheck_node(e[i],t);return!0}if(!(e=this.get_node(e))||"#"===e.id)return!1;r=this.get_node(e,!0),e.state.checked&&(e.state.checked=!1,this._data.checkbox.selected=E.vakata.array_remove_item(this._data.checkbox.selected,e.id),r.length&&r.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,t;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data["#"].children_d.concat(),e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var e=this._data.checkbox.selected.concat([]),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:e})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):!(!(e=this.get_node(e))||"#"===e.id)&&e.state.checked},this.get_checked=function(e){return this.settings.checkbox.tie_selection?this.get_selected(e):e?E.map(this._data.checkbox.selected,E.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_top_selected(e);for(var t,i,n=this.get_checked(!0),r={},s=0,a=n.length;s<a;s++)r[n[s].id]=n[s];for(s=0,a=n.length;s<a;s++)for(t=0,i=n[s].children_d.length;t<i;t++)r[n[s].children_d[t]]&&delete r[n[s].children_d[t]];for(s in n=[],r)r.hasOwnProperty(s)&&n.push(s);return e?E.map(n,E.proxy(function(e){return this.get_node(e)},this)):n},this.get_bottom_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(e);for(var t=this.get_checked(!0),i=[],n=0,r=t.length;n<r;n++)t[n].children.length||i.push(t[n].id);return e?E.map(i,E.proxy(function(e){return this.get_node(e)},this)):i},this.load_node=function(e,t){var i,n,r;if(!E.isArray(e)&&!this.settings.checkbox.tie_selection&&(r=this.get_node(e))&&r.state.loaded)for(i=0,n=r.children_d.length;i<n;i++)this._model.data[r.children_d[i]].state.checked&&(this._data.checkbox.selected=E.vakata.array_remove_item(this._data.checkbox.selected,r.children_d[i]));return d.load_node.apply(this,arguments)},this.get_state=function(){var e=d.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(e,t){var i,n=d.set_state.apply(this,arguments);return n&&e.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),i=this,E.each(e.checkbox,function(e,t){i.check_node(t)})),delete e.checkbox,this.set_state(e,t),!1):n},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),d.refresh.apply(this,arguments)}},E.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,t){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var t=E.jstree.reference(e.reference),e=t.get_node(e.reference);t.create_node(e,{},"last",function(e){setTimeout(function(){t.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var t=E.jstree.reference(e.reference),e=t.get_node(e.reference);t.edit(e)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var t=E.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.delete_node(t.get_selected()):t.delete_node(e)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var t=E.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.cut(t.get_top_selected()):t.cut(e)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var t=E.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.copy(t.get_top_selected()):t.copy(e)}},paste:{separator_before:!1,icon:!1,_disabled:function(e){return!E.jstree.reference(e.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var t=E.jstree.reference(e.reference),e=t.get_node(e.reference);t.paste(e)}}}}}}},E.jstree.plugins.contextmenu=function(e,s){this.bind=function(){s.bind.call(this);var t,i,n=0,r=null;this.element.on("contextmenu.jstree",".jstree-anchor",E.proxy(function(e,t){e.preventDefault(),n=e.ctrlKey?+new Date:0,(t||r)&&(n=+new Date+1e4),r&&clearTimeout(r),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",E.proxy(function(e){this._data.contextmenu.visible&&(!n||250<+new Date-n)&&E.vakata.context.hide(),n=0},this)).on("touchstart.jstree",".jstree-anchor",function(e){e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.pageX,i=e.pageY,r=setTimeout(function(){E(e.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){r&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(50<Math.abs(t-e.pageX)||50<Math.abs(i-e.pageY))&&clearTimeout(r)}).on("touchend.vakata.jstree",function(e){r&&clearTimeout(r)}),E(_).on("context_hide.vakata.jstree",E.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&E.vakata.context.hide(),s.teardown.call(this)},this.show_contextmenu=function(t,i,n,e){if(!(t=this.get_node(t))||"#"===t.id)return!1;var r=this.settings.contextmenu,s=this.get_node(t,!0).children(".jstree-anchor"),a=!1;!r.show_at_node&&i!==b&&n!==b||(s=s.offset(),i=s.left,n=s.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(t)&&this.activate_node(t,e),a=r.items,E.isFunction(a)&&(a=a.call(this,t,E.proxy(function(e){this._show_contextmenu(t,i,n,e)},this))),E.isPlainObject(a)&&this._show_contextmenu(t,i,n,a)},this._show_contextmenu=function(e,t,i,n){var r=this.get_node(e,!0).children(".jstree-anchor");E(_).one("context_show.vakata.jstree",E.proxy(function(e,t){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";E(t.element).addClass(i)},this)),this._data.contextmenu.visible=!0,E.vakata.context.show(r,{x:t,y:i},n),this.trigger("show_contextmenu",{node:e,x:t,y:i})}},u={element:h=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(c=E).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){c(_).triggerHandler("context_"+e+".vakata",{reference:u.reference,element:u.element,position:{x:u.position_x,y:u.position_y}})},_execute:function(e){return!(!(e=u.items[e])||e._disabled&&(!c.isFunction(e._disabled)||e._disabled({item:e,reference:u.reference,element:u.element}))||!e.action)&&e.action.call(null,{item:e,reference:u.reference,element:u.element,position:{x:u.position_x,y:u.position_y}})},_parse:function(e,t){if(!e)return!1;t||(u.html="",u.items=[]);var i,n="",r=!1;return t&&(n+="<ul>"),c.each(e,function(e,t){if(!t)return!0;u.items.push(t),!r&&t.separator_before&&(n+="<li class='vakata-context-separator'><a href='#' "+(c.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),r=!1,n=(n+="<li class='"+(t._class||"")+(!0===t._disabled||c.isFunction(t._disabled)&&t._disabled({item:t,reference:u.reference,element:u.element})?" vakata-contextmenu-disabled ":"")+"' "+(t.shortcut?" data-shortcut='"+t.shortcut+"' ":"")+">")+"<a href='#' rel='"+(u.items.length-1)+"'>",c.vakata.context.settings.icons&&(n+="<i ",t.icon&&(-1!==t.icon.indexOf("/")||-1!==t.icon.indexOf(".")?n+=" style='background:url(\""+t.icon+"\") center center no-repeat' ":n+=" class='"+t.icon+"' "),n+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),n+=(c.isFunction(t.label)?t.label({item:e,reference:u.reference,element:u.element}):t.label)+(t.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+t.shortcut+'">'+(t.shortcut_label||"")+"</span>":"")+"</a>",t.submenu&&(i=c.vakata.context._parse(t.submenu,!0))&&(n+=i),n+="</li>",t.separator_after&&(n+="<li class='vakata-context-separator'><a href='#' "+(c.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",r=!0)}),n=n.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(n+="</ul>"),t||(u.html=n,c.vakata.context._trigger("parse")),10<n.length&&n},_show_submenu:function(e){var t,i,n,r,s,a,o;(e=c(e)).length&&e.children("ul").length&&(t=e.children("ul"),i=e.offset().left+e.outerWidth(),n=e.offset().top,r=t.width(),s=t.height(),a=c(window).width()+c(window).scrollLeft(),o=c(window).height()+c(window).scrollTop(),h?e[i-(r+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[a<i+r+10?"addClass":"removeClass"]("vakata-context-right"),o<n+s+10&&t.css("bottom","-1px"),t.show())},show:function(e,t,i){var n,r,s,a,o,d,l;switch(u.element&&u.element.length&&u.element.width(""),!0){case!t&&!e:return!1;case!!t&&!!e:u.reference=e,u.position_x=t.x,u.position_y=t.y;break;case!t&&!!e:n=(u.reference=e).offset(),u.position_x=n.left+e.outerHeight(),u.position_y=n.top;break;case!!t&&!e:u.position_x=t.x,u.position_y=t.y}e&&!i&&c(e).data("vakata_contextmenu")&&(i=c(e).data("vakata_contextmenu")),c.vakata.context._parse(i)&&u.element.html(u.html),u.items.length&&(u.element.appendTo("body"),i=u.element,r=u.position_x,s=u.position_y,a=i.width(),o=i.height(),d=c(window).width()+c(window).scrollLeft(),l=c(window).height()+c(window).scrollTop(),h&&(r-=i.outerWidth()-c(e).outerWidth())<c(window).scrollLeft()+20&&(r=c(window).scrollLeft()+20),u.element.css({left:r=d<r+a+20?d-(a+20):r,top:s=l<s+o+20?l-(o+20):s}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),u.is_visible=!0,c.vakata.context._trigger("show"))},hide:function(){u.is_visible&&(u.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),u.is_visible=!1,c.vakata.context._trigger("hide"))}},c(function(){h="rtl"===c("body").css("direction");var t=!1;u.element=c("<ul class='vakata-context'></ul>"),u.element.on("mouseenter","li",function(e){e.stopImmediatePropagation(),c.contains(this,e.relatedTarget)||(t&&clearTimeout(t),u.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),c(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),c.vakata.context._show_submenu(this))}).on("mouseleave","li",function(e){c.contains(this,e.relatedTarget)||c(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(e){c(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),c.vakata.context.settings.hide_onmouseleave&&(t=setTimeout(function(){c.vakata.context.hide()},c.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),c(this).blur().parent().hasClass("vakata-context-disabled")||!1===c.vakata.context._execute(c(this).attr("rel"))||c.vakata.context.hide()}).on("keydown","a",function(e){var t=null;switch(e.which){case 13:case 32:e.type="mouseup",e.preventDefault(),c(e.currentTarget).trigger(e);break;case 37:u.is_visible&&(u.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 38:u.is_visible&&((t=(t=u.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length?t:u.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()).addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 39:u.is_visible&&(u.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 40:u.is_visible&&((t=(t=u.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length?t:u.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()).addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 27:c.vakata.context.hide(),e.preventDefault()}}).on("keydown",function(e){e.preventDefault();e=u.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();e.parent().not(".vakata-context-disabled")&&e.click()}),c(_).on("mousedown.vakata.jstree",function(e){u.is_visible&&!c.contains(u.element[0],e.target)&&c.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,t){u.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),h&&u.element.addClass("vakata-context-rtl").css("direction","rtl"),u.element.find("ul").hide().end()})}),E.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1},E.jstree.plugins.dnd=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",E.proxy(function(e){var t,i,n;return!(!this.settings.dnd.large_drag_target||E(e.target).closest(".jstree-node")[0]===e.currentTarget)||"touchstart"===e.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!E(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked"))||(t=this.get_node(e.target),n=1<(i=this.is_selected(t)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1)?i+" "+this.get_string("nodes"):this.get_text(e.currentTarget),this.settings.core.force_text&&(n=E.vakata.html.escape(n)),t&&t.id&&"#"!==t.id&&(1===e.which||"touchstart"===e.type)&&(!0===this.settings.dnd.is_draggable||E.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<i?this.get_top_selected(!0):[t],e))?(this.element.trigger("mousedown.jstree"),E.vakata.dnd.start(e,{jstree:!0,origin:this,obj:this.get_node(t,!0),nodes:1<i?this.get_top_selected():[t.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+n+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):void 0)},this))}},E(function(){var k=!1,w=!1,j=!1,T=!1,C=E('<div id="jstree-marker">&#160;</div>').hide();E(_).on("dnd_start.vakata.jstree",function(e,t){j=k=!1,t&&t.data&&t.data.jstree&&C.appendTo("body")}).on("dnd_move.vakata.jstree",function(e,r){if(T&&clearTimeout(T),r&&r.data&&r.data.jstree&&(!r.event.target.id||"jstree-marker"!==r.event.target.id)){j=r.event;var s,t,a,o,d,l,c,h,u,f,p,g,_,m,v,y,x=E.jstree.reference(r.event.target),b=!1;if(x&&x._data&&x._data.dnd)if(C.attr("class","jstree-"+x.get_theme()+(x.settings.core.themes.responsive?" jstree-dnd-responsive":"")),r.helper.children().attr("class","jstree-"+x.get_theme()+" jstree-"+x.get_theme()+"-"+x.get_theme_variant()+" "+(x.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[r.data.origin&&(r.data.origin.settings.dnd.always_copy||r.data.origin.settings.dnd.copy&&(r.event.metaKey||r.event.ctrlKey))?"show":"hide"](),r.event.target!==x.element[0]&&r.event.target!==x.get_container_ul()[0]||0!==x.get_container_ul().children().length){if((b=x.settings.dnd.large_drop_target?E(r.event.target).closest(".jstree-node").children(".jstree-anchor"):E(r.event.target).closest(".jstree-anchor"))&&b.length&&b.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(s=b.offset(),t=r.event.pageY-s.top,d=b.outerHeight(),h=t<d/3?["b","i","a"]:d-d/3<t?["a","i","b"]:d/2<t?["i","a","b"]:["i","b","a"],E.each(h,function(e,t){switch(t){case"b":a=s.left-6,o=s.top,l=x.get_parent(b),c=b.parent().index();break;case"i":v=x.settings.dnd.inside_pos,y=x.get_node(b.parent()),a=s.left-2,o=s.top+d/2+1,l=y.id,c="first"===v?0:"last"===v?y.children.length:Math.min(v,y.children.length);break;case"a":a=s.left-6,o=s.top+d,l=x.get_parent(b),c=b.parent().index()+1}for(u=!0,f=0,p=r.data.nodes.length;f<p;f++)if(g=r.data.origin&&(r.data.origin.settings.dnd.always_copy||r.data.origin.settings.dnd.copy&&(r.event.metaKey||r.event.ctrlKey))?"copy_node":"move_node",_=c,"move_node"==g&&"a"===t&&r.data.origin&&r.data.origin===x&&l===x.get_parent(r.data.nodes[f])&&(m=x.get_node(l),_>E.inArray(r.data.nodes[f],m.children))&&--_,!(u=u&&(x&&x.settings&&x.settings.dnd&&!1===x.settings.dnd.check_while_dragging||x.check(g,r.data.origin&&r.data.origin!==x?r.data.origin.get_node(r.data.nodes[f]):r.data.nodes[f],l,_,{dnd:!0,ref:x.get_node(b.parent()),pos:t,origin:r.data.origin,is_multi:r.data.origin&&r.data.origin!==x,is_foreign:!r.data.origin})))){x&&x.last_error&&(w=x.last_error());break}var i,n;if("i"===t&&b.parent().is(".jstree-closed")&&x.settings.dnd.open_timeout&&(T=setTimeout((n=b,function(){i.open_node(n)}),(i=x).settings.dnd.open_timeout)),u)return k={ins:x,par:l,pos:"i"!==t||"last"!==v||0!==c||x.is_loaded(y)?c:"last"},C.css({left:a+"px",top:o+"px"}).show(),r.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),w={},!(h=!0)}),!0===h))return}else{for(u=!0,f=0,p=r.data.nodes.length;f<p&&(u=u&&x.check(r.data.origin&&(r.data.origin.settings.dnd.always_copy||r.data.origin.settings.dnd.copy&&(r.event.metaKey||r.event.ctrlKey))?"copy_node":"move_node",r.data.origin&&r.data.origin!==x?r.data.origin.get_node(r.data.nodes[f]):r.data.nodes[f],"#","last",{dnd:!0,ref:x.get_node("#"),pos:"i",origin:r.data.origin,is_multi:r.data.origin&&r.data.origin!==x,is_foreign:!r.data.origin}));f++);if(u)return k={ins:x,par:"#",pos:"last"},C.hide(),void r.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok")}k=!1,r.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),C.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(C.hide(),j=k=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(e,t){if(T&&clearTimeout(T),t&&t.data&&t.data.jstree){C.hide().detach();var i,n,r=[];if(k){for(i=0,n=t.data.nodes.length;i<n;i++)r[i]=t.data.origin?t.data.origin.get_node(t.data.nodes[i]):t.data.nodes[i];k.ins[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(t.event.metaKey||t.event.ctrlKey))?"copy_node":"move_node"](r,k.par,k.pos,!1,!1,!1,t.data.origin)}else(i=E(t.event.target).closest(".jstree")).length&&w&&w.error&&"check"===w.error&&(i=i.jstree(!0))&&i.settings.core.error.call(this,w);k=j=!1}}).on("keyup.jstree keydown.jstree",function(e,t){(t=E.vakata.dnd._get())&&t.data&&t.data.jstree&&(t.helper.find(".jstree-copy").first()[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(e.metaKey||e.ctrlKey))?"show":"hide"](),j)&&(j.metaKey=e.metaKey,j.ctrlKey=e.ctrlKey,E.vakata.dnd._trigger("move",j))})}),p={element:!((f=E).vakata.html={div:f("<div />"),escape:function(e){return f.vakata.html.div.text(e).html()},strip:function(e){return f.vakata.html.div.empty().append(f.parseHTML(e)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},f.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(e,t){var i=f.vakata.dnd._get();i.event=t,f(_).triggerHandler("dnd_"+e+".vakata",i)},_get:function(){return{data:p.data,element:p.element,helper:p.helper}},_clean:function(){p.helper&&p.helper.remove(),p.scroll_i&&(clearInterval(p.scroll_i),p.scroll_i=!1),p={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},f(_).off("mousemove.vakata.jstree touchmove.vakata.jstree",f.vakata.dnd.drag),f(_).off("mouseup.vakata.jstree touchend.vakata.jstree",f.vakata.dnd.stop)},_scroll:function(e){var t;return p.scroll_e&&(p.scroll_l||p.scroll_t)?p.scroll_i?!0!==e&&(e=p.scroll_e.scrollTop(),t=p.scroll_e.scrollLeft(),p.scroll_e.scrollTop(e+p.scroll_t*f.vakata.dnd.settings.scroll_speed),p.scroll_e.scrollLeft(t+p.scroll_l*f.vakata.dnd.settings.scroll_speed),void(e===p.scroll_e.scrollTop()&&t===p.scroll_e.scrollLeft()||f.vakata.dnd._trigger("scroll",p.scroll_e))):(p.scroll_i=setInterval(f.vakata.dnd._scroll,100),!1):(p.scroll_i&&(clearInterval(p.scroll_i),p.scroll_i=!1),!1)},start:function(e,t,i){"touchstart"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=_.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_drag&&f.vakata.dnd.stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.MozUserSelect="none")}catch(e){}return p.init_x=e.pageX,p.init_y=e.pageY,p.data=t,p.is_down=!0,p.element=e.currentTarget,p.target=e.target,p.is_touch="touchstart"===e.type,!1!==i&&(p.helper=f("<div id='vakata-dnd'></div>").html(i).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),f(_).on("mousemove.vakata.jstree touchmove.vakata.jstree",f.vakata.dnd.drag),f(_).on("mouseup.vakata.jstree touchend.vakata.jstree",f.vakata.dnd.stop),!1},drag:function(i){if("touchmove"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=_.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_down){if(!p.is_drag){if(!(Math.abs(i.pageX-p.init_x)>(p.is_touch?f.vakata.dnd.settings.threshold_touch:f.vakata.dnd.settings.threshold)||Math.abs(i.pageY-p.init_y)>(p.is_touch?f.vakata.dnd.settings.threshold_touch:f.vakata.dnd.settings.threshold)))return;p.helper&&(p.helper.appendTo("body"),p.helper_w=p.helper.outerWidth()),p.is_drag=!0,f.vakata.dnd._trigger("start",i)}var e,t,n,r=!1,s=!1,a=!1,o=!1,d=!1,l=!1;return p.scroll_t=0,p.scroll_l=0,p.scroll_e=!1,f(f(i.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(f(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var e=f(this),t=e.offset();if(this.scrollHeight>this.offsetHeight&&(t.top+e.height()-i.pageY<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=1),i.pageY-t.top<f.vakata.dnd.settings.scroll_proximity)&&(p.scroll_t=-1),this.scrollWidth>this.offsetWidth&&(t.left+e.width()-i.pageX<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=1),i.pageX-t.left<f.vakata.dnd.settings.scroll_proximity)&&(p.scroll_l=-1),p.scroll_t||p.scroll_l)return p.scroll_e=f(this),!1}),!p.scroll_e&&(r=f(_),s=f(window),a=r.height(),e=s.height(),o=r.width(),s=s.width(),t=r.scrollTop(),n=r.scrollLeft(),e<a&&i.pageY-t<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=-1),e<a&&e-(i.pageY-t)<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=1),s<o&&i.pageX-n<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=-1),s<o&&s-(i.pageX-n)<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=1),p.scroll_t||p.scroll_l)&&(p.scroll_e=r),p.scroll_e&&f.vakata.dnd._scroll(!0),p.helper&&(d=parseInt(i.pageY+f.vakata.dnd.settings.helper_top,10),l=parseInt(i.pageX+f.vakata.dnd.settings.helper_left,10),o&&l+p.helper_w>o&&(l=o-(p.helper_w+2)),p.helper.css({left:l+"px",top:(d=a&&a<d+25?a-50:d)+"px"})),f.vakata.dnd._trigger("move",i),!1}},stop:function(e){var t;return"touchend"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=_.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_drag?f.vakata.dnd._trigger("stop",e):"touchend"===e.type&&e.target===p.target&&(t=setTimeout(function(){f(e.target).click()},100),f(e.target).one("click",function(){t&&clearTimeout(t)})),f.vakata.dnd._clean(),!1}},E.jstree.defaults.massload=null,E.jstree.plugins.massload=function(e,o){this.init=function(e,t){o.init.call(this,e,t),this._data.massload={}},this._load_nodes=function(r,s,a){var e=this.settings.massload;return a&&!E.isEmptyObject(this._data.massload)?o._load_nodes.call(this,r,s,a):E.isFunction(e)?e.call(this,r,E.proxy(function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this._data.massload[t]=e[t]);o._load_nodes.call(this,r,s,a)},this)):"object"==typeof e&&e&&e.url?(e=E.extend(!0,{},e),E.isFunction(e.url)&&(e.url=e.url.call(this,r)),E.isFunction(e.data)&&(e.data=e.data.call(this,r)),E.ajax(e).done(E.proxy(function(e,t,i){if(e)for(var n in e)e.hasOwnProperty(n)&&(this._data.massload[n]=e[n]);o._load_nodes.call(this,r,s,a)},this)).fail(E.proxy(function(e){o._load_nodes.call(this,r,s,a)},this))):o._load_nodes.call(this,r,s,a)},this._load_node=function(t,i){var e=this._data.massload[t.id];return e?this["string"==typeof e?"_append_html_data":"_append_json_data"](t,"string"==typeof e?E(E.parseHTML(e)).filter(function(){return 3!==this.nodeType}):e,function(e){i.call(this,e),delete this._data.massload[t.id]}):o._load_node.call(this,t,i)}},E.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},E.jstree.plugins.search=function(e,t){this.bind=function(){t.bind.call(this),this._data.search.str="",this._data.search.dom=E(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this.element.on("before_open.jstree",E.proxy(function(e,t){var i,n,r=this._data.search.res,s=[],a=E();if(r&&r.length&&(this._data.search.dom=E(this.element[0].querySelectorAll("#"+E.map(r,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(E.jstree.idregex,"\\$&"):e.replace(E.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"),this._data.search.som)&&this._data.search.res.length){for(i=0,n=r.length;i<n;i++)s=s.concat(this.get_node(r[i]).parents);a=(s=E.vakata.array_remove_item(E.vakata.array_unique(s),"#")).length?E(this.element[0].querySelectorAll("#"+E.map(s,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(E.jstree.idregex,"\\$&"):e.replace(E.jstree.idregex,"\\$&")}).join(", #"))):E(),this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),a=a.add(this._data.search.dom),this._data.search.smc&&this._data.search.dom.children(".jstree-children").find(".jstree-node").show(),a.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){E(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}},this)).on("search.jstree",E.proxy(function(e,t){this._data.search.som&&t.nodes.length&&(this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),this._data.search.smc&&t.nodes.children(".jstree-children").find(".jstree-node").show(),t.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){E(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")}))},this)).on("clear_search.jstree",E.proxy(function(e,t){this._data.search.som&&t.nodes.length&&this.element.find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")},this))},this.search=function(n,e,t,i,r,s){if(!1===n||""===E.trim(n.toString()))return this.clear_search();i=(i=this.get_node(i))&&i.id?i.id:null,n=n.toString();var a=this.settings.search,o=a.ajax||!1,d=this._model.data,l=null,c=[],h=[];if(this._data.search.res.length&&!r&&this.clear_search(),t===b&&(t=a.show_only_matches),s===b&&(s=a.show_only_matches_children),!e&&!1!==o)return E.isFunction(o)?o.call(this,n,E.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(E.isArray(e)?E.vakata.array_unique(e):[],function(){this.search(n,!0,t,i,r)},!0)},this),i):((o=E.extend({},o)).data||(o.data={}),o.data.str=n,i&&(o.data.inside=i),E.ajax(o).fail(E.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(o)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(E.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(E.isArray(e)?E.vakata.array_unique(e):[],function(){this.search(n,!0,t,i,r)},!0)},this)));r||(this._data.search.str=n,this._data.search.dom=E(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=t,this._data.search.smc=s),l=new E.vakata.search(n,!0,{caseSensitive:a.case_sensitive,fuzzy:a.fuzzy}),E.each(d[i||"#"].children_d,function(e,t){var i=d[t];i.text&&(a.search_callback&&a.search_callback.call(this,n,i)||!a.search_callback&&l.search(i.text).isMatch)&&(!a.search_leaves_only||i.state.loaded&&0===i.children.length)&&(c.push(t),h=h.concat(i.parents))}),c.length&&(h=E.vakata.array_unique(h),this._search_open(h),r?(this._data.search.dom=this._data.search.dom.add(E(this.element[0].querySelectorAll("#"+E.map(c,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(E.jstree.idregex,"\\$&"):e.replace(E.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=E.vakata.array_unique(this._data.search.res.concat(c))):(this._data.search.dom=E(this.element[0].querySelectorAll("#"+E.map(c,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(E.jstree.idregex,"\\$&"):e.replace(E.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=c),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")),this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:t})},this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=E()},this._search_open=function(i){var n=this;E.each(i.concat([]),function(e,t){if("#"===t)return!0;try{t=E("#"+t.replace(E.jstree.idregex,"\\$&"),n.element)}catch(e){}t&&t.length&&n.is_closed(t)&&(n._data.search.opn.push(t[0].id),n.open_node(t,function(){n._search_open(i)},0))})}},(n=E).vakata.search=function(_,e,m){m=m||{},!1!==(m=n.extend({},n.vakata.search.defaults,m)).fuzzy&&(m.fuzzy=!0),_=m.caseSensitive?_:_.toLowerCase();var v,y,x,t,b=m.location,i=m.distance,k=m.threshold,w=_.length;return 32<w&&(m.fuzzy=!1),m.fuzzy&&(v=1<<w-1,y=function(){for(var e={},t=0,t=0;t<w;t++)e[_.charAt(t)]=0;for(t=0;t<w;t++)e[_.charAt(t)]|=1<<w-t-1;return e}(),x=function(e,t){e/=w,t=Math.abs(b-t);return i?e+t/i:t?1:e}),t=function(e){if(e=m.caseSensitive?e:e.toLowerCase(),_===e||-1!==e.indexOf(_))return{isMatch:!0,score:0};if(!m.fuzzy)return{isMatch:!1,score:1};var t,i,n,r,s,a,o,d,l,c=e.length,h=k,u=e.indexOf(_,b),f=w+c,p=1,g=[];for(-1!==u&&(h=Math.min(x(0,u),h),-1!==(u=e.lastIndexOf(_,b+w)))&&(h=Math.min(x(0,u),h)),u=-1,t=0;t<w;t++){for(n=0,r=f;n<r;)x(t,b+r)<=h?n=r:f=r,r=Math.floor((f-n)/2+n);for(f=r,a=Math.max(1,b-r+1),o=Math.min(b+r,c)+w,(d=new Array(o+2))[o+1]=(1<<t)-1,i=o;a<=i;i--)if(l=y[e.charAt(i-1)],d[i]=0===t?(d[i+1]<<1|1)&l:(d[i+1]<<1|1)&l|(s[i+1]|s[i])<<1|1|s[i+1],d[i]&v&&(p=x(t,i-1))<=h){if(h=p,g.push(u=i-1),!(b<u))break;a=Math.max(1,2*b-u)}if(x(t+1,b)>h)break;s=d}return{isMatch:0<=u,score:p}},!0===e?{search:t}:t(e)},n.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},E.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},!(E.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",E.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",E.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",E.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(e,t){var i,n;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(E.proxy(this.settings.sort,this)),t))for(i=0,n=e.children_d.length;i<n;i++)this.sort(e.children_d[i],!1)}})),v=(E.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},E.jstree.plugins.state=function(e,t){this.bind=function(){t.bind.call(this);var i=E.proxy(function(){this.element.on(this.settings.state.events,E.proxy(function(){g&&clearTimeout(g),g=setTimeout(E.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",E.proxy(function(e,t){this.element.one("restore_state.jstree",i),this.restore_state()||i()},this))},this.save_state=function(){var e={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};E.vakata.storage.set(this.settings.state.key,JSON.stringify(e))},this.restore_state=function(){var i=E.vakata.storage.get(this.settings.state.key);if(i)try{i=JSON.parse(i)}catch(e){return!1}return!(i&&i.ttl&&i.sec&&+new Date-i.sec>i.ttl||!(i=(i=i&&i.state?i.state:i)&&E.isFunction(this.settings.state.filter)?this.settings.state.filter.call(this,i):i)||(this.element.one("set_state.jstree",function(e,t){t.instance.trigger("restore_state",{state:E.extend(!0,{},i)})}),this.set_state(i),0))},this.clear_state=function(){return E.vakata.storage.del(this.settings.state.key)}},E.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}},E.jstree.defaults.types={"#":{},default:{}},E.jstree.plugins.types=function(e,c){this.init=function(e,t){var i,n;if(t&&t.types&&t.types.default)for(i in t.types)if("default"!==i&&"#"!==i&&t.types.hasOwnProperty(i))for(n in t.types.default)t.types.default.hasOwnProperty(n)&&t.types[i][n]===b&&(t.types[i][n]=t.types.default[n]);c.init.call(this,e,t),this._model.data["#"].type="#"},this.refresh=function(e,t){c.refresh.call(this,e,t),this._model.data["#"].type="#"},this.bind=function(){this.element.on("model.jstree",E.proxy(function(e,t){for(var i=this._model.data,n=t.nodes,r=this.settings.types,s="default",a=0,o=n.length;a<o;a++)s="default",i[n[a]].original&&i[n[a]].original.type&&r[i[n[a]].original.type]&&(s=i[n[a]].original.type),i[n[a]].data&&i[n[a]].data.jstree&&i[n[a]].data.jstree.type&&r[i[n[a]].data.jstree.type]&&(s=i[n[a]].data.jstree.type),i[n[a]].type=s,!0===i[n[a]].icon&&r[s].icon!==b&&(i[n[a]].icon=r[s].icon);i["#"].type="#"},this)),c.bind.call(this)},this.get_json=function(e,t,i){var n,r,s=this._model.data,a=t?E.extend(!0,{},t,{no_id:!1}):{},o=c.get_json.call(this,e,a,i);if(!1===o)return!1;if(E.isArray(o))for(n=0,r=o.length;n<r;n++)o[n].type=o[n].id&&s[o[n].id]&&s[o[n].id].type?s[o[n].id].type:"default",t&&t.no_id&&(delete o[n].id,o[n].li_attr&&o[n].li_attr.id&&delete o[n].li_attr.id,o[n].a_attr)&&o[n].a_attr.id&&delete o[n].a_attr.id;else o.type=o.id&&s[o.id]&&s[o.id].type?s[o.id].type:"default",t&&t.no_id&&(o=this._delete_ids(o));return o},this._delete_ids=function(e){if(E.isArray(e))for(var t=0,i=e.length;t<i;t++)e[t]=this._delete_ids(e[t]);else delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id,e.children&&E.isArray(e.children)&&(e.children=this._delete_ids(e.children));return e},this.check=function(e,t,i,n,r){if(!1===c.check.call(this,e,t,i,n,r))return!1;t=t&&t.id?t:this.get_node(t),i=i&&i.id?i:this.get_node(i);var s,a,o,d,l=(l=t&&t.id?r&&r.origin?r.origin:E.jstree.reference(t.id):null)&&l._model&&l._model.data?l._model.data:null;switch(e){case"create_node":case"move_node":case"copy_node":if("move_node"!==e||-1===E.inArray(t.id,i.children)){if((s=this.get_rules(i)).max_children!==b&&-1!==s.max_children&&s.max_children===i.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})});if(s.valid_children!==b&&-1!==s.valid_children&&-1===E.inArray(t.type||"default",s.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})});if(l&&t.children_d&&t.parents){for(o=a=0,d=t.children_d.length;o<d;o++)a=Math.max(a,l[t.children_d[o]].parents.length);a=a-t.parents.length+1}(a<=0||a===b)&&(a=1);do{if(s.max_depth!==b&&-1!==s.max_depth&&s.max_depth<a)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})})}while(i=this.get_node(i.parent),s=this.get_rules(i),a++,i)}}return!0},this.get_rules=function(e){return!!(e=this.get_node(e))&&((e=this.get_type(e,!0)).max_depth===b&&(e.max_depth=-1),e.max_children===b&&(e.max_children=-1),e.valid_children===b&&(e.valid_children=-1),e)},this.get_type=function(e,t){return!!(e=this.get_node(e))&&(t?E.extend({type:e.type},this.settings.types[e.type]):e.type)},this.set_type=function(e,t){var i,n,r,s,a;if(E.isArray(e))for(n=0,r=(e=e.slice()).length;n<r;n++)this.set_type(e[n],t);else{if(i=this.settings.types,e=this.get_node(e),!i[t]||!e)return!1;s=e.type,a=this.get_icon(e),e.type=t,(!0===a||i[s]&&i[s].icon!==b&&a===i[s].icon)&&this.set_icon(e,i[t].icon===b||i[t].icon)}return!0}},E.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},E.jstree.plugins.unique=function(e,f){this.check=function(e,t,i,n,r){if(!1===f.check.call(this,e,t,i,n,r))return!1;if(t=t&&t.id?t:this.get_node(t),(i=i&&i.id?i:this.get_node(i))&&i.children){for(var s="rename_node"===e?n:t.text,a=[],o=this.settings.unique.case_sensitive,d=this._model.data,l=0,c=i.children.length;l<c;l++)a.push(o?d[i.children[l]].text:d[i.children[l]].text.toLowerCase());switch(o||(s=s.toLowerCase()),e){case"delete_node":return!0;case"rename_node":return(l=-1===E.inArray(s,a)||t.text&&t.text[o?"toString":"toLowerCase"]()===s)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+s+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})}),l;case"create_node":return(l=-1===E.inArray(s,a))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+s+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})}),l;case"copy_node":return(l=-1===E.inArray(s,a))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+s+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})}),l;case"move_node":return(l=t.parent===i.id&&(!r||!r.is_multi)||-1===E.inArray(s,a))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+s+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:n,obj:!(!t||!t.id)&&t.id,par:!(!i||!i.id)&&i.id})}),l}}return!0},this.create_node=function(e,t,i,n,r){if(!t||t.text===b){if(!(e=this.get_node(e=null===e?"#":e)))return f.create_node.call(this,e,t,i,n,r);if(!(i=i===b?"last":i).toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(e))return f.create_node.call(this,e,t,i,n,r);t=t||{};for(var s,a=this._model.data,o=this.settings.unique.case_sensitive,d=this.settings.unique.duplicate,l=s=this.get_string("New node"),c=[],h=0,u=e.children.length;h<u;h++)c.push(o?a[e.children[h]].text:a[e.children[h]].text.toLowerCase());for(h=1;-1!==E.inArray(o?l:l.toLowerCase(),c);)l=d.call(this,s,++h).toString();t.text=l}return f.create_node.call(this,e,t,i,n,r)}},_.createElement("DIV"));return v.setAttribute("unselectable","on"),v.setAttribute("role","presentation"),v.className="jstree-wholerow",v.innerHTML="&#160;",E.jstree.plugins.wholerow=function(e,s){this.bind=function(){s.bind.call(this),this.element.on("ready.jstree set_state.jstree",E.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",E.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",E.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",E.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var i=!1,n=0,r=t.selected.length;n<r;n++)(i=this.get_node(t.selected[n],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",E.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",E.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",E.proxy(function(e){e.preventDefault();var t=E.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY});E(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t)},this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=E.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});E(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",E.proxy(function(e){e.stopImmediatePropagation();var t=E.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});E(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",E.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",E.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),s.teardown.call(this)},this.redraw_node=function(e,t,i,n){var r;return(e=s.redraw_node.apply(this,arguments))&&(r=v.cloneNode(!0),-1!==E.inArray(e.id,this._data.core.selected)&&(r.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===e.id&&(r.className+=" jstree-wholerow-hovered"),e.insertBefore(r,e.childNodes[0])),e}},E.fn.jstree}),function(j){"use strict";var i={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:'<svg class="feather feather-arrow-left sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-reactid="121"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',nextHtml:'<svg class="feather feather-arrow-right sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-reactid="131"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:10,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,t){},onAfterSlide:function(e,t){},onBeforeNextSlide:function(e,t){},onBeforePrevSlide:function(e,t){}};j.fn.lightSlider=function(e){var l,r,c,h,s,a,o,u,t,f,p,g,_,m,v,y,x,b,d,k,w,n;return 0!==this.length&&(1<this.length?this.each(function(){j(this).lightSlider(e)}):(n={},l=j.extend(!0,{},i,e),r={},n.$el=c=this,"fade"===l.mode&&(l.vertical=!1),l.vertical&&(l.prevHtml='<svg class="feather feather-arrow-up sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-reactid="151"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',l.nextHtml='<svg class="feather feather-arrow-down sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-reactid="111"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>'),h=c.children(),s=j(window).width(),a=null,t=!1,p="",_=!(g=f=u=o=0)===l.vertical?"height":"width",m=!0===l.vertical?"margin-bottom":"margin-right",b=x=y=v=0,d=null,k="ontouchstart"in document.documentElement,w={chbreakpoint:function(){if(s=j(window).width(),l.responsive.length){var e;if(!1===l.autoWidth&&(e=l.item),s<l.responsive[0].breakpoint)for(var t=0;t<l.responsive.length;t++)s<l.responsive[t].breakpoint&&(l.responsive[t].breakpoint,a=l.responsive[t]);if(null!=a)for(var i in a.settings)a.settings.hasOwnProperty(i)&&(null==r[i]&&(r[i]=l[i]),l[i]=a.settings[i]);if(!j.isEmptyObject(r)&&s>l.responsive[0].breakpoint)for(var n in r)r.hasOwnProperty(n)&&(l[n]=r[n]);!1===l.autoWidth&&0<v&&0<x&&e!==l.item&&(g=Math.round(v/((x+l.slideMargin)*l.slideMove)))}},calSW:function(){!1===l.autoWidth&&(x=(f-(l.item*l.slideMargin-l.slideMargin))/l.item)},calWidth:function(e){var t=(!0===e?p.find(".lslide"):h).length;if(!1===l.autoWidth)u=t*(x+l.slideMargin);else for(var i=u=0;i<t;i++)u+=parseInt(h.eq(i).width())+l.slideMargin;return u+2}},(n={doCss:function(){return!(!l.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,i=0;i<e.length;i++)if(e[i]in t.style)return!0}())},keyPress:function(){l.keyPress&&j(document).on("keyup.lightslider",function(e){j(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?c.goToPrevSlide():39===e.keyCode&&c.goToNextSlide())})},controls:function(){var e;l.controls&&(e=c.parents(".lSSlideOuter"),l.vertical,e.append('<div class="lSAction"><a class="lSPrev">'+l.prevHtml+'</a><a class="lSNext">'+l.nextHtml+"</a></div>"),l.autoWidth?w.calWidth(!1)<f&&e.find(".lSAction").hide():o<=l.item&&e.find(".lSAction").hide(),e.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,j(this).hasClass("lSPrev")?c.goToPrevSlide():c.goToNextSlide(),!1}))},initialStyle:function(){var d=this;"fade"===l.mode&&(l.autoWidth=!1,l.slideEndAnimation=!1),l.auto&&(l.slideEndAnimation=!1),l.autoWidth&&(l.slideMove=1,l.item=1),l.loop&&(l.slideMove=1,l.freeMove=!1),l.onBeforeStart.call(this,c),w.chbreakpoint(),c.addClass("lightSlider").wrap('<div class="lSSlideOuter '+l.addClass+'"><div class="lSSlideWrapper"></div></div>'),p=c.parent(".lSSlideWrapper"),!0===l.rtl&&p.parent().addClass("lSrtl"),l.vertical?(p.parent().addClass("vertical"),f=l.verticalHeight,p.css("height",f+"px")):f=c.width(),h.addClass("lslide"),!0===l.loop&&"slide"===l.mode&&(w.calSW(),w.clone=function(){if(w.calWidth(!0)>f){for(var e=0,t=0,i=0;i<h.length&&(t++,!((e+=parseInt(c.find(".lslide").eq(i).width())+l.slideMargin)>=f+l.slideMargin));i++);var n=!0===l.autoWidth?t:l.item;if(n<c.find(".clone.left").length)for(var r=0;r<c.find(".clone.left").length-n;r++)h.eq(r).remove();if(n<c.find(".clone.right").length)for(var s=h.length-1;s>h.length-1-c.find(".clone.right").length;s--)g--,h.eq(s).remove();for(var a=c.find(".clone.right").length;a<n;a++)c.find(".lslide").eq(a).clone().removeClass("lslide").addClass("clone right").appendTo(c),g++;for(var o=c.find(".lslide").length-c.find(".clone.left").length;o>c.find(".lslide").length-n;o--)c.find(".lslide").eq(o-1).clone().removeClass("lslide").addClass("clone left").prependTo(c);h=c.children()}else h.hasClass("clone")&&(c.find(".clone").remove(),d.move(c,0))},w.clone()),w.sSW=function(){o=h.length,!0===l.rtl&&!1===l.vertical&&(m="margin-left"),!1===l.autoWidth&&h.css(_,x+"px"),h.css(m,l.slideMargin+"px"),u=w.calWidth(!1),c.css(_,u+"px"),!0===l.loop&&"slide"===l.mode&&!1===t&&(g=c.find(".clone.left").length)},w.calL=function(){h=c.children(),o=h.length},this.doCss()&&p.addClass("usingCss"),w.calL(),"slide"===l.mode?(w.calSW(),w.sSW(),!0===l.loop&&(v=d.slideValue(),this.move(c,v)),!1===l.vertical&&this.setHeight(c,!1)):(this.setHeight(c,!0),c.addClass("lSFade"),this.doCss()||(h.fadeOut(0),h.eq(g).fadeIn(0))),(!0===l.loop&&"slide"===l.mode?h.eq(g):h.first()).addClass("active")},pager:function(){var e,d=this;w.createPager=function(){b=(f-(l.thumbItem*l.thumbMargin-l.thumbMargin))/l.thumbItem;for(var e=p.find(".lslide"),t=p.find(".lslide").length,i=0,n="",r=0,i=0;i<t;i++){"slide"===l.mode&&(l.autoWidth?r+=(parseInt(e.eq(i).width())+l.slideMargin)*l.slideMove:r=i*((x+l.slideMargin)*l.slideMove));var s=e.eq(i*l.slideMove).attr("data-thumb");if(!0===l.gallery?n+='<li style="width:100%;'+_+":"+b+"px;"+m+":"+l.thumbMargin+'px"><a href="#"><img src="'+s+'" /></a></li>':n+='<li><a href="#">'+(i+1)+"</a></li>","slide"===l.mode&&r>=u-f-l.slideMargin){i+=1;s=2;l.autoWidth&&(n+='<li><a href="#">'+(i+1)+"</a></li>",s=1),i<s?(n=null,p.parent().addClass("noPager")):p.parent().removeClass("noPager");break}}var a=p.parent(),o=(a.find(".lSPager").html(n),!0===l.gallery&&(!0===l.vertical&&a.find(".lSPager").css("width",l.vThumbWidth+"px"),y=i*(l.thumbMargin+b)+.5,a.find(".lSPager").css({property:y+"px","transition-duration":l.speed+"ms"}),!0===l.vertical&&p.parent().css("padding-right",l.vThumbWidth+l.galleryMargin+"px"),a.find(".lSPager").css(_,y+"px")),a.find(".lSPager").find("li"));o.first().addClass("active"),o.on("click",function(){return!0===l.loop&&"slide"===l.mode?g+=o.index(this)-a.find(".lSPager").find("li.active").index():g=o.index(this),c.mode(!1),!0===l.gallery&&d.slideThumb(),!1})},l.pager&&(e="lSpg",l.gallery&&(e="lSGallery"),p.after('<ul class="lSPager '+e+'"></ul>'),e=l.vertical?"margin-left":"margin-top",p.parent().find(".lSPager").css(e,l.galleryMargin+"px"),w.createPager()),setTimeout(function(){w.init()},0)},setHeight:function(n,r){function e(){var e=s.outerHeight(),t=0,i=e;r&&(e=0,t=100*i/f),n.css({height:e+"px","padding-bottom":t+"%"})}var s=null,t=this,s=(l.loop?n.children(".lslide "):n.children()).first();e(),s.find("img").length?s.find("img")[0].complete?(e(),d||t.auto()):s.find("img").load(function(){setTimeout(function(){e(),d||t.auto()},100)}):d||t.auto()},active:function(e,t){this.doCss()&&"fade"===l.mode&&p.addClass("on");var i,n,r=0;g*l.slideMove<o?(e.removeClass("active"),this.doCss()||"fade"!==l.mode||!1!==t||e.fadeOut(l.speed),r=!0===t?g:g*l.slideMove,!0===t&&(n=(i=e.length)-1,i<=r+1)&&(r=n),!0===l.loop&&"slide"===l.mode&&(r=!0===t?g-c.find(".clone.left").length:g*l.slideMove,!0===t)&&(n=(i=e.length)-1,r+1===i?r=n:i<r+1&&(r=0)),this.doCss()||"fade"!==l.mode||!1!==t||e.eq(r).fadeIn(l.speed),e.eq(r).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==l.mode||!1!==t||(e.fadeOut(l.speed),e.eq(r).fadeIn(l.speed)))},move:function(e,t){!0===l.rtl&&(t=-t),this.doCss()?!0===l.vertical?e.css({transform:"translate(0px, "+-t+"px)","-webkit-transform":"translate(0px, "+-t+"px)"}):e.css({transform:"translate("+-t+"px, 0px)","-webkit-transform":"translate("+-t+"px, 0px)"}):!0===l.vertical?e.css("position","relative").animate({top:-t+"px"},l.speed,l.easing):e.css("position","relative").animate({left:-t+"px"},l.speed,l.easing);e=p.parent().find(".lSPager"),t=e.find("li");t.find("a").css("backgroundColor",e.attr("data-dot-color")),this.active(t,!0),e.find("li.active > a").css("backgroundColor",e.attr("data-current-dot-color"))},fade:function(){this.active(h,!1);var e=p.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;w.calSlide=function(){v=e.slideValue(),e.active(h,!1),v>u-f-l.slideMargin?v=u-f-l.slideMargin:v<0&&(v=0),e.move(c,v),!0===l.loop&&"slide"===l.mode&&(g>=o-c.find(".clone.left").length/l.slideMove&&e.resetSlide(c.find(".clone.left").length),0===g)&&e.resetSlide(p.find(".lslide").length)},w.calSlide()},resetSlide:function(e){var t=this,i=c.parents(".lSSlideOuter");i.find(".lSAction a").addClass("disabled"),setTimeout(function(){g=e,p.css("transition-duration","0ms"),v=t.slideValue(),t.active(h,!1),n.move(c,v),setTimeout(function(){p.css("transition-duration",l.speed+"ms"),i.find(".lSAction a").removeClass("disabled")},50)},l.speed+100)},slideValue:function(){var e=0;if(!1===l.autoWidth)e=g*((x+l.slideMargin)*l.slideMove);else for(var e=0,t=0;t<g;t++)e+=parseInt(h.eq(t).width())+l.slideMargin;return e},slideThumb:function(){var e;switch(l.currentPagerPosition){case"left":e=0;break;case"middle":e=f/2-b/2;break;case"right":e=f-b}var t=g-c.find(".clone.left").length,i=p.parent().find(".lSPager"),t=("slide"===l.mode&&!0===l.loop&&(t>=i.children().length?t=0:t<0&&(t=i.children().length)),t*(b+l.thumbMargin)-e);y<t+f&&(t=y-f-l.thumbMargin),this.move(i,t=t<0?0:t)},auto:function(){l.auto&&(clearInterval(d),d=setInterval(function(){c.goToNextSlide()},l.pause))},pauseOnHover:function(){var e=this;l.auto&&l.pauseOnHover&&(p.on("mouseenter",function(){j(this).addClass("ls-hover"),c.pause(),l.auto=!0}),p.on("mouseleave",function(){j(this).removeClass("ls-hover"),p.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,t){p.css("transition-duration","0ms"),"slide"===l.mode&&((e=v-(e-t))>=u-f-l.slideMargin?e=!1===l.freeMove?u-f-l.slideMargin:(t=u-f-l.slideMargin)+(e-t)/5:e<0&&(!1===l.freeMove?e=0:e/=5),this.move(c,e))},touchEnd:function(e){var r,t,i;p.css("transition-duration",l.speed+"ms"),"slide"===l.mode?(t=!(r=!1),(v-=e)>u-f-l.slideMargin?(v=u-f-l.slideMargin,!1===l.autoWidth&&(r=!0)):v<0&&(v=0),i=function(e){var t=0;if(r||e&&(t=1),l.autoWidth)for(var i=0,n=0;n<h.length&&(i+=parseInt(h.eq(n).width())+l.slideMargin,g=n+t,!(v<=i));n++);else{e=v/((x+l.slideMargin)*l.slideMove);g=parseInt(e)+t,v>=u-f-l.slideMargin&&e%1!=0&&g++}},e>=l.swipeThreshold?(i(!1),t=!1):e<=-l.swipeThreshold&&(i(!0),t=!1),c.mode(t),this.slideThumb(),1===h.length&&this.move(c,0)):e>=l.swipeThreshold?c.goToPrevSlide():e<=-l.swipeThreshold&&c.goToNextSlide()},enableDrag:function(){var i,t,n,r=this;k||(t=i=0,n=!1,p.find(".lightSlider").addClass("lsGrab"),p.on("mousedown",function(e){var t=e.target.tagName;if(!l.__disableDrag__&&"INPUT"!==t&&"TEXTAREA"!==t)return!(u<f&&0!==u)&&void(j(e.target).hasClass("lSPrev")||j(e.target).hasClass("lSNext")||(i=!0===l.vertical?e.pageY:e.pageX,n=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,p.scrollLeft+=1,--p.scrollLeft,p.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(d)))}),j(window).on("mousemove",function(e){n&&(t=!0===l.vertical?e.pageY:e.pageX,r.touchMove(t,i))}),j(window).on("mouseup",function(e){n&&(p.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),e=(t=!(n=!1)===l.vertical?e.pageY:e.pageX)-i,Math.abs(e)>=l.swipeThreshold&&j(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),j(window).off("click.ls")}),r.touchEnd(e))}))},enableTouch:function(){var n,r,s=this;k&&(n={},r={},p.on("touchstart",function(e){l.__disableDrag__||(r=e.originalEvent.targetTouches[0],n.pageX=e.originalEvent.targetTouches[0].pageX,n.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(d))}),p.on("touchmove",function(e){if(!l.__disableDrag__){if(u<f&&0!==u)return!1;var t=e.originalEvent,t=(r=t.targetTouches[0],Math.abs(r.pageX-n.pageX)),i=Math.abs(r.pageY-n.pageY);!0===l.vertical?(t<3*i&&e.preventDefault(),s.touchMove(r.pageY,n.pageY)):(i<3*t&&e.preventDefault(),s.touchMove(r.pageX,n.pageX))}}),p.on("touchend",function(){if(!l.__disableDrag__){if(u<f&&0!==u)return!1;var e=!0===l.vertical?r.pageY-n.pageY:r.pageX-n.pageX;s.touchEnd(e)}}))},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===l.enableTouch&&e.enableTouch(),!0===l.enableDrag)&&e.enableDrag(),j(window).on("focus",function(){e.auto()}),j(window).on("blur",function(){clearInterval(d)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),w.init=function(){w.chbreakpoint(),!0===l.vertical?(f=1<l.item?l.verticalHeight:h.outerHeight(),l.itemFixedHeight&&(f=l.itemFixedHeight),p.css("height",f+"px")):(f=p.width(),l.itemFixedWidth&&(f=l.itemFixedWidth)),!0===l.loop&&"slide"===l.mode&&w.clone(),w.calL(),"slide"===l.mode&&c.removeClass("lSSlide"),"slide"===l.mode&&(w.calSW(),w.sSW()),setTimeout(function(){"slide"===l.mode&&c.addClass("lSSlide")},1e3),l.pager&&w.createPager(),!0===l.adaptiveHeight&&!1===l.vertical&&c.css("height",h.eq(g).outerHeight(!0)),!1===l.adaptiveHeight&&("slide"===l.mode?!1===l.vertical?n.setHeight(c,!1):n.auto():n.setHeight(c,!0)),!0===l.gallery&&n.slideThumb(),"slide"===l.mode&&n.slide();var e=c.parents(".lSSlideOuter");!1===l.autoWidth?h.length<=l.item?e.find(".lSAction").hide():e.find(".lSAction").show():w.calWidth(!1)<f&&0!==u?e.find(".lSAction").hide():e.find(".lSAction").show()},c.goToPrevSlide=function(){0<g?(l.onBeforePrevSlide.call(this,c,g),g--,c.mode(!1),!0===l.gallery&&n.slideThumb()):!0===l.loop?(l.onBeforePrevSlide.call(this,c,g),"fade"===l.mode&&(g=parseInt((o-1)/l.slideMove)),c.mode(!1),!0===l.gallery&&n.slideThumb()):!0===l.slideEndAnimation&&(c.addClass("leftEnd"),setTimeout(function(){c.removeClass("leftEnd")},400))},c.goToNextSlide=function(){var e=!0;"slide"===l.mode&&(e=n.slideValue()<u-f-l.slideMargin),g*l.slideMove<o-l.slideMove&&e?(l.onBeforeNextSlide.call(this,c,g),g++,c.mode(!1),!0===l.gallery&&n.slideThumb()):!0===l.loop?(l.onBeforeNextSlide.call(this,c,g),g=0,c.mode(!1),!0===l.gallery&&n.slideThumb()):!0===l.slideEndAnimation&&(c.addClass("rightEnd"),setTimeout(function(){c.removeClass("rightEnd")},400))},c.mode=function(e){!0===l.adaptiveHeight&&!1===l.vertical&&c.css("height",h.eq(g).outerHeight(!0)),!1===t&&("slide"===l.mode?n.doCss()&&(c.addClass("lSSlide"),""!==l.speed&&p.css("transition-duration",l.speed+"ms"),""!==l.cssEasing)&&p.css("transition-timing-function",l.cssEasing):n.doCss()&&(""!==l.speed&&c.css("transition-duration",l.speed+"ms"),""!==l.cssEasing)&&c.css("transition-timing-function",l.cssEasing)),e||l.onBeforeSlide.call(this,c,g),"slide"===l.mode?n.slide():n.fade(),p.hasClass("ls-hover")||n.auto(),setTimeout(function(){e||l.onAfterSlide.call(this,c,g)},l.speed),t=!0},c.play=function(){c.goToNextSlide(),l.auto=!0,n.auto()},c.pause=function(){l.auto=!1,clearInterval(d)},c.refresh=function(){w.init()},c.getCurrentSlideCount=function(){var e,t,i=g;return l.loop&&(e=p.find(".lslide").length,t=c.find(".clone.left").length,i=g<=t-1?e+(g-t):e+t<=g?g-e-t:g-t),i+1},c.getTotalSlideCount=function(){return p.find(".lslide").length},c.goToSlide=function(e){g=l.loop?e+c.find(".clone.left").length-1:e,c.mode(!1),!0===l.gallery&&n.slideThumb()},c.disableDrag=function(e){l.__disableDrag__=e},c.isDisableDrag=function(e){return l.__disableDrag__},c.settings=function(){return l},c.destroy=function(){c.lightSlider&&(c.goToPrevSlide=function(){},c.goToNextSlide=function(){},c.mode=function(){},c.play=function(){},c.pause=function(){},c.refresh=function(){},c.getCurrentSlideCount=function(){},c.getTotalSlideCount=function(){},c.goToSlide=function(){},c.lightSlider=null,w={init:function(){}},c.parents(".lSSlideOuter").find(".lSAction, .lSPager").remove(),c.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),c.children().removeAttr("style"),h.removeClass("lslide active"),c.find(".clone").remove(),d=h=null,t=!1,g=0)},setTimeout(function(){l.onSliderLoad.call(this,c)},10),j(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,w.init()},200)}))),this}}(jQuery);var swfobject=function(){var s,a,o,d,l,c,y="undefined",x="object",h="Shockwave Flash",p="application/x-shockwave-flash",u="SWFObjectExprInst",t="onreadystatechange",f=window,g=document,_=navigator,H=!1,r=[],m=[],v=[],b=[],k=!1,w=!1,n=!0,j=!1,T=function(){var e=typeof g.getElementById!=y&&typeof g.getElementsByTagName!=y&&typeof g.createElement!=y,t=_.userAgent.toLowerCase(),i=_.platform.toLowerCase(),n=/win/.test(i||t),i=/mac/.test(i||t),t=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),r="Microsoft Internet Explorer"===_.appName,s=[0,0,0],a=null;if(typeof _.plugins!=y&&typeof _.plugins[h]==x)(a=_.plugins[h].description)&&typeof _.mimeTypes!=y&&_.mimeTypes[p]&&_.mimeTypes[p].enabledPlugin&&(r=!(H=!0),a=a.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=R(a.replace(/^(.*)\..*$/,"$1")),s[1]=R(a.replace(/^.*\.(.*)\s.*$/,"$1")),s[2]=/[a-zA-Z]/.test(a)?R(a.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof f.ActiveXObject!=y)try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");o&&(a=o.GetVariable("$version"))&&(r=!0,s=[R((a=a.split(" ")[1].split(","))[0]),R(a[1]),R(a[2])])}catch(e){}return{w3:e,pv:s,wk:t,ie:r,win:n,mac:i}}();T.w3&&((typeof g.readyState!=y&&("complete"===g.readyState||"interactive"===g.readyState)||typeof g.readyState==y&&(g.getElementsByTagName("body")[0]||g.body))&&i(),k||(typeof g.addEventListener!=y&&g.addEventListener("DOMContentLoaded",i,!1),T.ie&&(g.attachEvent(t,function e(){"complete"==g.readyState&&(g.detachEvent(t,e),i())}),f==top)&&function t(){if(!k){try{g.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}i()}}(),T.wk&&function e(){k||(/loaded|complete/.test(g.readyState)?i():setTimeout(e,0))}()));function i(){if(!k&&document.getElementsByTagName("body")[0]){try{var e,t=D("span");t.style.display="none",(e=g.getElementsByTagName("body")[0].appendChild(t)).parentNode.removeChild(e),t=e=null}catch(e){return}k=!0;for(var i=r.length,n=0;n<i;n++)r[n]()}}function e(e){k?e():r[r.length]=e}function $(){var e=m.length;if(0<e)for(var t=0;t<e;t++){var i=m[t].id,n=m[t].callbackFn,r={success:!1,id:i};if(0<T.pv[0]){var s=P(i);if(s)if(!M(m[t].swfVersion)||T.wk&&T.wk<312)if(m[t].expressInstall&&E()){for(var a={},o=(a.data=m[t].expressInstall,a.width=s.getAttribute("width")||"0",a.height=s.getAttribute("height")||"0",s.getAttribute("class")&&(a.styleclass=s.getAttribute("class")),s.getAttribute("align")&&(a.align=s.getAttribute("align")),{}),d=s.getElementsByTagName("param"),l=d.length,c=0;c<l;c++)"movie"!=d[c].getAttribute("name").toLowerCase()&&(o[d[c].getAttribute("name")]=d[c].getAttribute("value"));S(a,o,i,n)}else{h=a=void 0;var h,a=s;T.ie&&4!=a.readyState?(a.style.display="none",h=D("div"),a.parentNode.insertBefore(h,a),h.parentNode.replaceChild(O(a),h),N(a)):a.parentNode.replaceChild(O(a),a),n&&n(r)}else L(i,!0),n&&(r.success=!0,r.ref=C(i),r.id=i,n(r))}else L(i,!0),n&&((s=C(i))&&typeof s.SetVariable!=y&&(r.success=!0,r.ref=s,r.id=s.id),n(r))}}function C(e){var t=null,e=P(e);return t=e&&"OBJECT"===e.nodeName.toUpperCase()?typeof e.SetVariable===y&&e.getElementsByTagName(x)[0]||e:t}function E(){return!w&&M("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function S(e,t,i,n){var r=P(i);i=I(i),o=n||null,d={success:!(w=!0),id:i},r&&(a="OBJECT"==r.nodeName.toUpperCase()?(s=O(r),null):(s=r,i),e.id=u,(typeof e.width==y||!/%$/.test(e.width)&&R(e.width)<310)&&(e.width="310"),(typeof e.height==y||!/%$/.test(e.height)&&R(e.height)<137)&&(e.height="137"),n=T.ie?"ActiveX":"PlugIn",n="MMredirectURL="+encodeURIComponent(f.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+n+"&MMdoctitle="+encodeURIComponent(g.title.slice(0,47)+" - Flash Player Installation"),typeof t.flashvars!=y?t.flashvars+="&"+n:t.flashvars=n,T.ie&&4!=r.readyState&&((n=D("div")).setAttribute("id",i+="SWFObjectNew"),r.parentNode.insertBefore(n,r),r.style.display="none",N(r)),A(e,t,i))}function O(e){var t=D("div");if(T.win&&T.ie)t.innerHTML=e.innerHTML;else{e=e.getElementsByTagName(x)[0];if(e){var i=e.childNodes;if(i)for(var n=i.length,r=0;r<n;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function A(e,t,i){var n,r,s,a,o,d,l=P(i);if((i=I(i),!(T.wk&&T.wk<312))&&l){var c,h,u,f=T.ie?D("div"):D(x);for(u in typeof e.id==y&&(e.id=i),t)t.hasOwnProperty(u)&&"movie"!==u.toLowerCase()&&(s=f,o=t[a=u],d=void 0,(d=D("param")).setAttribute("name",a),d.setAttribute("value",o),s.appendChild(d));for(c in T.ie&&(i=e.data,n=f.innerHTML,(r=D("div")).innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+i+"'>"+n+"</object>",f=r.firstChild),e)e.hasOwnProperty(c)&&("styleclass"===(h=c.toLowerCase())?f.setAttribute("class",e[c]):"classid"!==h&&"data"!==h&&f.setAttribute(c,e[c]));T.ie?v[v.length]=e.id:(f.setAttribute("type",p),f.setAttribute("data",e.data)),l.parentNode.replaceChild(f,l),n=f}return n}function N(e){var i=P(e);i&&"OBJECT"==i.nodeName.toUpperCase()&&(T.ie?(i.style.display="none",function e(){if(4==i.readyState){for(var t in i)"function"==typeof i[t]&&(i[t]=null);i.parentNode.removeChild(i)}else setTimeout(e,10)}()):i.parentNode.removeChild(i))}function z(e){return e&&e.nodeType&&1===e.nodeType}function I(e){return z(e)?e.id:e}function P(e){if(z(e))return e;var t=null;try{t=g.getElementById(e)}catch(e){}return t}function D(e){return g.createElement(e)}function R(e){return parseInt(e,10)}function M(e){var t=T.pv,e=(e+="").split(".");return e[0]=R(e[0]),e[1]=R(e[1])||0,e[2]=R(e[2])||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]}function F(e,t,i,n){var r=g.getElementsByTagName("head")[0];r&&(i="string"==typeof i?i:"screen",n&&(c=l=null),l&&c==i||((n=D("style")).setAttribute("type","text/css"),n.setAttribute("media",i),l=r.appendChild(n),T.ie&&typeof g.styleSheets!=y&&0<g.styleSheets.length&&(l=g.styleSheets[g.styleSheets.length-1]),c=i),l)&&(typeof l.addRule!=y?l.addRule(e,t):typeof g.createTextNode!=y&&l.appendChild(g.createTextNode(e+" {"+t+"}")))}function L(e,t){var i;n&&(t=t?"visible":"hidden",i=P(e),k&&i?i.style.visibility=t:"string"==typeof e&&F("#"+e,"visibility:"+t))}function U(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=y?encodeURIComponent(e):e}r[0]=function(){var i,n,r,s;(H&&(n=g.getElementsByTagName("body")[0],(r=D(x)).setAttribute("style","visibility: hidden;"),r.setAttribute("type",p),s=n.appendChild(r))?(i=0,function e(){if(typeof s.GetVariable!=y)try{var t=s.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),T.pv=[R(t[0]),R(t[1]),R(t[2])])}catch(e){T.pv=[8,0,0]}else if(i<10)return i++,void setTimeout(e,10);n.removeChild(r),s=null,$()}):$)()};T.ie&&window.attachEvent("onunload",function(){for(var e=b.length,t=0;t<e;t++)b[t][0].detachEvent(b[t][1],b[t][2]);for(var i,n,r=v.length,s=0;s<r;s++)N(v[s]);for(i in T)T[i]=null;for(n in T=null,swfobject)swfobject[n]=null;swfobject=null});return{registerObject:function(e,t,i,n){var r;T.w3&&e&&t?((r={}).id=e,r.swfVersion=t,r.expressInstall=i,r.callbackFn=n,m[m.length]=r,L(e,!1)):n&&n({success:!1,id:e})},getObjectById:function(e){if(T.w3)return C(e)},embedSWF:function(o,d,l,c,h,u,f,p,g,_){var m=I(d),v={success:!1,id:m};T.w3&&!(T.wk&&T.wk<312)&&o&&d&&l&&c&&h?(L(m,!1),e(function(){l+="",c+="";var e={};if(g&&typeof g===x)for(var t in g)e[t]=g[t];e.data=o,e.width=l,e.height=c;var i,n={};if(p&&typeof p===x)for(var r in p)n[r]=p[r];if(f&&typeof f===x)for(var s in f)f.hasOwnProperty(s)&&(i=j?encodeURIComponent(s):s,s=j?encodeURIComponent(f[s]):f[s],typeof n.flashvars!=y?n.flashvars+="&"+i+"="+s:n.flashvars=i+"="+s);if(M(h)){var a=A(e,n,d);e.id==m&&L(m,!0),v.success=!0,v.ref=a,v.id=a.id}else{if(u&&E())return e.data=u,void S(e,n,d,_);L(m,!0)}_&&_(v)})):_&&_(v)},switchOffAutoHideShow:function(){n=!1},enableUriEncoding:function(e){j=typeof e===y||e},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:M,createSWF:function(e,t,i){if(T.w3)return A(e,t,i)},showExpressInstall:function(e,t,i,n){T.w3&&E()&&S(e,t,i,n)},removeSWF:function(e){T.w3&&N(e)},createCSS:function(e,t,i,n){T.w3&&F(e,t,i,n)},addDomLoadEvent:e,addLoadEvent:function(e){var t,i,n,r;typeof f.addEventListener!=y?f.addEventListener("load",e,!1):typeof g.addEventListener!=y?g.addEventListener("load",e,!1):typeof f.attachEvent!=y?(n="onload",r=e,(i=f).attachEvent(n,r),b[b.length]=[i,n,r]):"function"==typeof f.onload?(t=f.onload,f.onload=function(){t(),e()}):f.onload=e},getQueryParamValue:function(e){var t=g.location.search||g.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return U(t);for(var i=t.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==e)return U(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){var e;w&&((e=P(u))&&s&&(e.parentNode.replaceChild(s,e),a&&(L(a,!0),T.ie)&&(s.style.display="block"),o)&&o(d),w=!1)},version:"2.3"}}();!function(e){"function"==typeof define&&define.amd?define(e):e(jQuery)}(function(){Toast.STATUS_NONE=0,Toast.STATUS_LOADING=1,Toast.STATUS_LOADED=2,Toast.CURRENT_PAGE="current",Toast.IS_ZOOM=!1,Toast.IS_ZOOM_LOCKED=!1,Toast.IS_PANNING=!1,Toast.IS_PINCHING=!1,Toast.IS_ZOOM_DRAG_MODE=!1,Toast.IS_DRAGGING=!1,Toast.IS_DRAWING=!1,Toast.IS_SCROLLING=!1,Toast.IS_VERTICAL_SCROLLING=!1,Toast.IS_SLIDING=!1;var e=Toast.urlParams.get("moduleBaseUrl"),e=(e&&(e.lastIndexOf("/")!==e.length-1&&(e+="/"),Toast.config.moduleBaseUrl=e),Toast.urlParams.get("dataBaseUrl")),e=(e&&(e.lastIndexOf("/")!==e.length-1&&(e+="/"),Toast.config.dataBaseUrl=e),Toast.urlParams.get("movieBaseUrl"));e&&(e.lastIndexOf("/")!==e.length-1&&(e+="/"),Toast.config.movieBaseUrl=e),Toast.data=new Backbone.Model({}),Toast.__eventTypes__="ontouchstart"in window?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},Toast.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Toast.UUID16=function(){return"xxxxxxxx-xxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Toast.UUID8=function(){return"xxxx-xxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Toast.UUID6=function(){return"xxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Toast.UUID4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},Toast.dateUUID=function(){var e=new Date;return e.getFullYear().toString().substr(2,2)+(e.getMonth()+1)+e.getDate()+e.getHours()+e.getMinutes()+"-"+Toast.UUID4()},Toast.date=function(){var e=new Date,t=e.getFullYear(),i=""+(e.getMonth()+1),n=""+e.getDate(),r=""+e.getHours(),s=""+e.getMinutes(),e=""+e.getSeconds();return t+"-"+(i=i.length<2?"0"+i:i)+"-"+(n=n.length<2?"0"+n:n)+" "+(r=r.length<2?"0"+r:r)+":"+(s=s.length<2?"0"+s:s)+":"+(e=e.length<2?"0"+e:e)},Toast.isLocaleDefault=function(){return!Toast.LocalStorage.get("locale")},Toast.getLocale=function(){return Toast.urlParams.get("testEnvironment")?"en":Toast.LocalStorage.get("locale")||window.require.s.contexts._.config.locale},Toast.setLocale=function(e){e?Toast.LocalStorage.set("locale",e):Toast.LocalStorage.remove("locale")},Toast.isInputBoxFocused=function(){return $("input:focus").get(0)||$("textarea:focus").get(0)},Toast.getModuleBaseUrl=function(e){e=e.uri;return e.substring(0,e.lastIndexOf("/",e.length-2)+1)},Toast.lazy=function(e,t,i){void 0===i?setTimeout(e,t):setTimeout(e.bind(i),t)},Toast.lazyOnce=function(e,t,i,n){i.id&&clearTimeout(i.id),i.id=void 0===n?setTimeout(e,t):setTimeout(e.bind(n),t)},Toast.executeFunctionByName=function(e,t){for(var i=[].slice.call(arguments).splice(2),n=e.split("."),r=n.pop(),s=0;s<n.length;s++)t=t[n[s]];return t[r].apply(t,i)},Toast.hasFunctionByName=function(e,t){for(var i=e.split("."),e=i.pop(),n=0;n<i.length;n++)t=t[i[n]];return!!t[e]},Toast.isUrlValid=function(e){return null!=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)},Toast.saveToDisk=function(e,t){var i,n;t=t||e.substring(e.lastIndexOf("/")+1).split("?")[0],Toast.isIE?((i=document.createElement("a")).href=e,i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i)):((n=new XMLHttpRequest).responseType="blob",n.onload=function(){var e=document.createElement("a");e.href=window.URL.createObjectURL(n.response),e.download=t,e.style.display="none",document.body.appendChild(e),e.click(),delete e},n.open("GET",e),n.send())},Toast.topWindow=function(){try{if(!parent)return window;for(var e=parent;;){if(e===e.parent)break;e=e.parent}return e.window.innerWidth,e.window}catch(e){return Toast.parentAccessDenied=!0,window}},Toast.topDocument=function(){try{if(!parent)return document;for(var e=parent;;){if(e===e.parent)break;e=e.parent}return e.document}catch(e){return Toast.parentAccessDenied=!0,document}},Toast._destroy=function(){Toast.__destroy__=!0,$(document.body).remove()},_.extend(Toast,Backbone.Events,{}),Toast.dispatch=Toast.send=Toast.trigger.bind(Toast),Toast.extend=function(e,t){function i(){this.constructor=r}var n=this,r=e&&_.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)};_.extend(r,n,t);return i.prototype=n.prototype,r.prototype=new i,e&&_.extend(r.prototype,e),r.__super__=n.prototype,r};Toast.RUNENV_ERROR===Toast.RUNENV_ERROR_NO&&$(document).ready(function(){Toast.showLoading(!0)})});